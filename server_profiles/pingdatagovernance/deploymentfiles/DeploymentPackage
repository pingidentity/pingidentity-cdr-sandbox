[{"class":"Package","id":"8ead013a-c552-4a87-9431-f74ffbdee2ae","name":"Added sideband config","deploymentPackageVersion":1,"applicationName":"Symphonic admin-point-application","applicationVersion":"9.0.2.0-GA","dateCreated":"2022-05-23T13:32:58.623723Z","createdBy":"admin","snapshotId":"6bb1e691-0d4f-4e1f-ae92-a62235198a82","snapshotMessage":"added sideband config","snapshotDateCommitted":"2022-05-23T13:32:34.364543Z","rootEntityId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","rootEntityName":"Global Decision Point","enabledFeatures":[],"customProperties":{}},{"class":"AttributeDefinition","id":"a007b39b-33ca-436c-977f-21a4831daa96","name":"HttpRequest","resolvers":[{"class":"request","condition":null,"expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"8e568465-2e7c-4705-8d94-53102ea8550f","name":"HttpRequest.AccessToken","resolvers":[{"class":"attribute","attributeDefinitionId":"a007b39b-33ca-436c-977f-21a4831daa96","condition":null,"expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"JSON","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"AccessToken"}]}},{"type":"coerce","valueType":"JSON"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"9d722951-77a8-4ae6-94f9-6ced4adfee17","name":"HttpRequest.AccessToken.active","resolvers":[{"class":"attribute","attributeDefinitionId":"8e568465-2e7c-4705-8d94-53102ea8550f","condition":null,"expression":null}],"defaultValue":"false","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"BOOLEAN","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.active"}]}},{"type":"coerce","valueType":"BOOLEAN"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"51c7456a-dd1f-3dd7-b26b-419d10eb66a1","attributeDefinitionId":"9d722951-77a8-4ae6-94f9-6ced4adfee17"},{"class":"ConstantNode","id":"7a0aac99-7467-3c46-9ff9-4c4541fe0a7a","constant":"false"},{"class":"ComparisonNode","id":"3166a7c9-3954-346a-b08f-9bb3246f11b3","lhsInputNode":"51c7456a-dd1f-3dd7-b26b-419d10eb66a1","rhsInputNode":"7a0aac99-7467-3c46-9ff9-4c4541fe0a7a","operator":"EQUALS"},{"class":"RequestAxis","id":"301391c4-b512-38fa-a70c-ef17b12cb45f","type":"ACTION"},{"class":"ConstantNode","id":"94b387d7-1648-3bde-b86b-7e3463d196b5","constant":"inbound-DELETE"},{"class":"ComparisonNode","id":"34693c22-6e10-3e10-9fd4-323204b9ebf3","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"94b387d7-1648-3bde-b86b-7e3463d196b5","operator":"EQUALS"},{"class":"ConstantNode","id":"c0aeb1df-f692-387d-b4dd-af0c896ed794","constant":"inbound-GET"},{"class":"ComparisonNode","id":"2d9e2d63-4dc8-3743-b412-a3a8a035d3a5","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"c0aeb1df-f692-387d-b4dd-af0c896ed794","operator":"EQUALS"},{"class":"ConstantNode","id":"9cd7b67a-2e48-38b9-955b-698a2354bfd2","constant":"inbound-PATCH"},{"class":"ComparisonNode","id":"aa50126f-84c7-321f-9a19-deb6df64888f","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"9cd7b67a-2e48-38b9-955b-698a2354bfd2","operator":"EQUALS"},{"class":"ConstantNode","id":"cff3a038-c0cb-3a6a-9a32-38bfb38512ff","constant":"inbound-POST"},{"class":"ComparisonNode","id":"c921e8e7-5373-3b41-954d-28e7fc25a53d","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"cff3a038-c0cb-3a6a-9a32-38bfb38512ff","operator":"EQUALS"},{"class":"ConstantNode","id":"d5903fee-d9f5-3007-a95a-c8f2c5055a31","constant":"inbound-PUT"},{"class":"ComparisonNode","id":"8657091d-ece7-30e1-bec2-3668308cf88d","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"d5903fee-d9f5-3007-a95a-c8f2c5055a31","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"c7ba27cb-d807-3cee-83aa-153a1ff3cf85","inputNodes":["34693c22-6e10-3e10-9fd4-323204b9ebf3","2d9e2d63-4dc8-3743-b412-a3a8a035d3a5","aa50126f-84c7-321f-9a19-deb6df64888f","c921e8e7-5373-3b41-954d-28e7fc25a53d","8657091d-ece7-30e1-bec2-3668308cf88d"],"operator":"or"},{"class":"ConditionDefinition","id":"cd212c60-6cf3-4156-9c17-a32162fdda6a","name":"Any Inbound Request","condition":"c7ba27cb-d807-3cee-83aa-153a1ff3cf85","properties":{}},{"class":"ConditionReferenceNode","id":"74cd85f7-57cb-3f3a-8e4f-626b553db8dd","definitionId":"cd212c60-6cf3-4156-9c17-a32162fdda6a"},{"class":"ConstantNode","id":"ba2b381d-b5cd-3c6c-8a33-ead954a5dbbe","constant":"create"},{"class":"ComparisonNode","id":"f57613e0-ee23-3c70-a970-8f88ef9e5210","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"ba2b381d-b5cd-3c6c-8a33-ead954a5dbbe","operator":"EQUALS"},{"class":"ConstantNode","id":"467261b4-b9a2-338c-b54d-3a7747456c88","constant":"delete"},{"class":"ComparisonNode","id":"e99b4431-55b3-31ab-ae2a-d0e7e073314a","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"467261b4-b9a2-338c-b54d-3a7747456c88","operator":"EQUALS"},{"class":"ConstantNode","id":"5f307cc6-04a5-3f73-ad0f-e0a9164b8c81","constant":"modify"},{"class":"ComparisonNode","id":"a40fc8c5-d3e6-360e-9033-59b7e02c941e","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"5f307cc6-04a5-3f73-ad0f-e0a9164b8c81","operator":"EQUALS"},{"class":"ConstantNode","id":"26797050-df16-3fdb-91fc-4ffaad6c67e5","constant":"retrieve"},{"class":"ComparisonNode","id":"2281317d-0ce5-3717-9adb-0bd7eb6285c8","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"26797050-df16-3fdb-91fc-4ffaad6c67e5","operator":"EQUALS"},{"class":"ConstantNode","id":"2f37a53c-f79b-3161-b79f-bd24c0c0f8c8","constant":"search"},{"class":"ComparisonNode","id":"ea899a06-d551-3e36-b9eb-979c7934ed16","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"2f37a53c-f79b-3161-b79f-bd24c0c0f8c8","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"3881ce34-607c-38ef-9c16-f68d0aed77e9","inputNodes":["f57613e0-ee23-3c70-a970-8f88ef9e5210","e99b4431-55b3-31ab-ae2a-d0e7e073314a","a40fc8c5-d3e6-360e-9033-59b7e02c941e","2281317d-0ce5-3717-9adb-0bd7eb6285c8","ea899a06-d551-3e36-b9eb-979c7934ed16"],"operator":"or"},{"class":"ConditionDefinition","id":"5d9208da-b746-4b0d-b741-b6eabc66e71c","name":"Any SCIM or OpenBanking Request","condition":"3881ce34-607c-38ef-9c16-f68d0aed77e9","properties":{}},{"class":"ConditionReferenceNode","id":"65f8f6cf-72b0-3424-a68e-2ce1e23038f9","definitionId":"5d9208da-b746-4b0d-b741-b6eabc66e71c"},{"class":"BooleanLogicNode","id":"4f93cda7-0e23-3ced-a02c-e9f99330b625","inputNodes":["74cd85f7-57cb-3f3a-8e4f-626b553db8dd","65f8f6cf-72b0-3424-a68e-2ce1e23038f9"],"operator":"or"},{"class":"BooleanLogicNode","id":"638746e0-7afe-30a6-b9b0-399abb7f51dd","inputNodes":["3166a7c9-3954-346a-b08f-9bb3246f11b3","4f93cda7-0e23-3ced-a02c-e9f99330b625"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","name":"Access token is inactive","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"7c71ab87-a0c9-3996-9014-d23ed7191bde","metadataId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","effect":"DENY","inputNode":"638746e0-7afe-30a6-b9b0-399abb7f51dd"},{"class":"StatementNode","id":"ac221641-cea0-3e0b-9fb1-1092c7200a8b","inputNode":"7c71ab87-a0c9-3996-9014-d23ed7191bde","metadataId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","statements":[]},{"class":"TargetMatchNode","id":"0834611c-303f-3b0a-b522-15cdca154804","inputNode":"ac221641-cea0-3e0b-9fb1-1092c7200a8b","metadataId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","targets":[]},{"class":"Metadata","originType":"Policy","originId":"69d82f74-5561-4f91-b238-0f8bbac97532","name":"Token Validation","properties":{},"disabled":false,"repetitionSettings":null},{"class":"AlwaysTrueNode","id":"4c526b0b-d781-357a-a6ef-0cd18062e00d"},{"class":"CombinedDecisionNode","id":"ed47d4a1-e4f7-3baf-9030-9fcb9557b5e3","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["0834611c-303f-3b0a-b522-15cdca154804"],"inputNodeWeights":[100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"69d82f74-5561-4f91-b238-0f8bbac97532"},{"class":"StatementTemplate","id":"cde26a38-2035-4385-bbfe-159ee1822976","name":"Invalid Token","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"status\":401, \"message\": \"invalid_token\", \"detail\":\"Access token is expired or otherwise invalid\"}"}]},"obligatory":true,"appliesTo":"DENY","attributes":{},"services":{}},{"class":"StatementNode","id":"b6dca37c-f025-39e5-a19c-5e6227813749","inputNode":"ed47d4a1-e4f7-3baf-9030-9fcb9557b5e3","metadataId":"69d82f74-5561-4f91-b238-0f8bbac97532","statements":["cde26a38-2035-4385-bbfe-159ee1822976"]},{"class":"TargetMatchNode","id":"f768a29c-35e8-3918-af60-e0031c20c41a","inputNode":"b6dca37c-f025-39e5-a19c-5e6227813749","metadataId":"69d82f74-5561-4f91-b238-0f8bbac97532","targets":[]},{"class":"ConstantNode","id":"c29c351a-9075-3cd4-b783-51df27ef3b34","constant":"true"},{"class":"ComparisonNode","id":"185423ca-58d1-38c4-89df-a20a12428c37","lhsInputNode":"51c7456a-dd1f-3dd7-b26b-419d10eb66a1","rhsInputNode":"c29c351a-9075-3cd4-b783-51df27ef3b34","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"e01fa5a6-7a09-3ecf-be1a-2d5d1de9a7d4","inputNodes":["185423ca-58d1-38c4-89df-a20a12428c37"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"81597501-fef1-4345-a351-626ec9364575","name":"Token is inactive","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"c77b06ee-9037-35cf-b989-97a005c9da30","metadataId":"81597501-fef1-4345-a351-626ec9364575","effect":"DENY","inputNode":"e01fa5a6-7a09-3ecf-be1a-2d5d1de9a7d4"},{"class":"StatementNode","id":"36ca8506-f60d-3cc3-b9ca-b5b967d46c9f","inputNode":"c77b06ee-9037-35cf-b989-97a005c9da30","metadataId":"81597501-fef1-4345-a351-626ec9364575","statements":[]},{"class":"TargetMatchNode","id":"17e26d49-e004-3fb2-ba1b-7128d0473cc5","inputNode":"36ca8506-f60d-3cc3-b9ca-b5b967d46c9f","metadataId":"81597501-fef1-4345-a351-626ec9364575","targets":[]},{"class":"AttributeDefinition","id":"447bf9bf-0cf0-4b62-9b55-58fc9f606f49","name":"HttpRequest.AccessToken.scope","resolvers":[{"class":"attribute","attributeDefinitionId":"8e568465-2e7c-4705-8d94-53102ea8550f","condition":null,"expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"scope"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","attributeDefinitionId":"447bf9bf-0cf0-4b62-9b55-58fc9f606f49"},{"class":"ConstantNode","id":"1097f0bb-2044-3357-b688-a75aa6d5272c","constant":"urn:pingdatagovernance:pdp"},{"class":"ComparisonNode","id":"61e47392-dfb5-3894-b2ef-71bd280d219a","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"1097f0bb-2044-3357-b688-a75aa6d5272c","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"a251290f-5aa4-340f-95bb-4393ba1bea42","inputNodes":["61e47392-dfb5-3894-b2ef-71bd280d219a"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","name":"Token does not contain PDP scope","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"e7317138-050e-32bf-b7f7-5cb8ac328b12","metadataId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","effect":"DENY","inputNode":"a251290f-5aa4-340f-95bb-4393ba1bea42"},{"class":"StatementNode","id":"bea2307f-1a05-33fd-a8ec-8b212adcda4b","inputNode":"e7317138-050e-32bf-b7f7-5cb8ac328b12","metadataId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","statements":[]},{"class":"TargetMatchNode","id":"74362df2-61a0-3218-b75c-a89d337cf26a","inputNode":"bea2307f-1a05-33fd-a8ec-8b212adcda4b","metadataId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","targets":[]},{"class":"Metadata","originType":"Policy","originId":"e792b7ec-331d-422e-8aec-d5ff589889aa","name":"Token Authorization","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"a6623ab4-91b0-303b-ba9b-13505e0065e5","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["17e26d49-e004-3fb2-ba1b-7128d0473cc5","74362df2-61a0-3218-b75c-a89d337cf26a"],"inputNodeWeights":[100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"e792b7ec-331d-422e-8aec-d5ff589889aa"},{"class":"StatementNode","id":"c2eb6d9a-3b94-3461-bc1d-669a4fe6fe06","inputNode":"a6623ab4-91b0-303b-ba9b-13505e0065e5","metadataId":"e792b7ec-331d-422e-8aec-d5ff589889aa","statements":["cde26a38-2035-4385-bbfe-159ee1822976"]},{"class":"Target","id":"ba86bc60-6ae8-4e14-a4b7-ba6c5e3a463f","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["authorize"]},{"class":"TargetMatchNode","id":"8a114898-eda2-379e-8813-5fc18e31916e","inputNode":"c2eb6d9a-3b94-3461-bc1d-669a4fe6fe06","metadataId":"e792b7ec-331d-422e-8aec-d5ff589889aa","targets":["ba86bc60-6ae8-4e14-a4b7-ba6c5e3a463f"]},{"class":"Metadata","originType":"PolicySet","originId":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5","name":"PDP API Endpoint Policies","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"7d5d1ddb-025d-3ed3-b945-801d19695e79","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["8a114898-eda2-379e-8813-5fc18e31916e"],"inputNodeWeights":[100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5"},{"class":"StatementNode","id":"d66641ce-2e99-3f4b-8ed8-c98faa7cb9b4","inputNode":"7d5d1ddb-025d-3ed3-b945-801d19695e79","metadataId":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5","statements":[]},{"class":"Target","id":"e41403c2-589e-4981-a088-3e004aef4d59","name":"Inline target","domains":[],"services":["PDP"],"identityClassIds":[],"actions":[]},{"class":"TargetMatchNode","id":"c32ba35c-4fc5-3b62-b5f7-5c918a9efab9","inputNode":"d66641ce-2e99-3f4b-8ed8-c98faa7cb9b4","metadataId":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5","targets":["e41403c2-589e-4981-a088-3e004aef4d59"]},{"class":"AttributeDefinition","id":"04fda2cf-64a1-4e3c-b504-729e27152bdc","name":"Configuration.PINGDIRECTORY_USERNAME","resolvers":[{"class":"configuration","key":"PINGDIRECTORY_USERNAME","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":"cn=administrator","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"7c8b1936-5b83-48d8-99dc-9f4da82df567","name":"Configuration.PINGDIRECTORY_PASSWORD","resolvers":[{"class":"configuration","key":"PINGDIRECTORY_PASSWORD","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":"2FederateM0re","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":true,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"ee41314a-eb03-4a6e-9561-82ff8dd13865","name":"HttpRequest.AccessToken.subject","resolvers":[{"class":"attribute","attributeDefinitionId":"8e568465-2e7c-4705-8d94-53102ea8550f","condition":null,"expression":null}],"defaultValue":"_null","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"sub"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"c2284af5-caa5-48b1-b5a6-418cec688cb3","name":"CDRAttributes.ConsentAPIToken","resolvers":[],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"JSON","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"'{\"sub\":\"' + "},{"@class":"Interpolation","hole":"ee41314a-eb03-4a6e-9561-82ff8dd13865","safelyInterpolatable":false},{"@class":"FixedTemplate","x":" +'\",\"active\":true,\"scope\":\"consent\"}'"}]}},{"type":"coerce","valueType":"JSON"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"b8e0627f-47a0-49c8-9fbc-256735322452","name":"Configuration.PINGDIRECTORY_HOSTNAME","resolvers":[{"class":"configuration","key":"PINGDIRECTORY_HOSTNAME","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"833e95ed-21f1-4c25-ab56-6af7fd362a3e","name":"HttpRequest.AccessToken.cdr_arrangement_id","resolvers":[{"class":"attribute","attributeDefinitionId":"8e568465-2e7c-4705-8d94-53102ea8550f","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":"_null","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"cdr_arrangement_id"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"ServiceDefinition","id":"5dceb2e8-19cc-45a0-8df0-a78eb66e1ce2","name":"Consumer Data Rights.Check Consent API","serviceSettings":{"class":"rest","urlFormat":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"https://"},{"@class":"Interpolation","hole":"b8e0627f-47a0-49c8-9fbc-256735322452","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"/consent/v1/consents/"},{"@class":"Interpolation","hole":"833e95ed-21f1-4c25-ab56-6af7fd362a3e","safelyInterpolatable":false}]},"body":{"@class":"JoiningTemplate","components":[]},"verb":"GET","contentType":"application/json","headers":[],"authenticationType":"BASIC","authenticationAttributes":{"@class":"MapTemplate","map":{"name":{"@class":"Interpolation","hole":"04fda2cf-64a1-4e3c-b504-729e27152bdc","safelyInterpolatable":false},"password":{"@class":"Interpolation","hole":"7c8b1936-5b83-48d8-99dc-9f4da82df567","safelyInterpolatable":false},"token":{"@class":"Interpolation","hole":"c2284af5-caa5-48b1-b5a6-418cec688cb3","safelyInterpolatable":false}}},"tlsSettings":{"@class":"TlsSettings","tlsValidationType":"NONE","tlsTruststore":null,"mtlsValidation":false,"mtlsKeystore":null}},"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"serviceResilience":{"maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"timeoutMilliseconds":2000,"maximumRetryCount":2,"holdoffMilliseconds":1000,"retryStrategy":"FIXED","retryJitter":10.0},"secret":false},{"class":"AttributeDefinition","id":"2ade78e4-0f5e-4cd8-b861-90c4b9c20122","name":"CDRAttributes.consent_record","resolvers":[{"class":"service","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null,"serviceDefinitionId":"5dceb2e8-19cc-45a0-8df0-a78eb66e1ce2"}],"defaultValue":null,"cacheScopeAttributeId":"8e568465-2e7c-4705-8d94-53102ea8550f","cacheTimeToLive":10,"cacheStrategy":"SCOPE_EXPIRE_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"JSON","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"38acbb0b-d93b-4274-a2ec-8491e44d8eb7","name":"CDRAttributes.consent_record.expires","resolvers":[{"class":"attribute","attributeDefinitionId":"2ade78e4-0f5e-4cd8-b861-90c4b9c20122","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"NUMBER","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.consentContext.expires"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"dcc8c3b0-12c9-30e4-bd6e-d252ae5dc46d","attributeDefinitionId":"38acbb0b-d93b-4274-a2ec-8491e44d8eb7"},{"class":"AttributeDefinition","id":"5b6679cb-5f49-4911-b87b-5eb743d557f2","name":"CDRAttributes.current_time","resolvers":[],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"new java.util.Date().getTime()"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"6f941551-a97f-33cd-8de3-8cc49915d635","attributeDefinitionId":"5b6679cb-5f49-4911-b87b-5eb743d557f2"},{"class":"ComparisonNode","id":"a5afdcb4-4ea8-34e1-b8b5-37e87ade32b4","lhsInputNode":"dcc8c3b0-12c9-30e4-bd6e-d252ae5dc46d","rhsInputNode":"6f941551-a97f-33cd-8de3-8cc49915d635","operator":"GREATER_THAN"},{"class":"BooleanLogicNode","id":"a044c103-830d-3e03-8c99-1d6f14d647ba","inputNodes":["a5afdcb4-4ea8-34e1-b8b5-37e87ade32b4"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"0af24073-8ea1-4509-8e2d-6dac28cecfec","name":"Check Consent Expiry","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"09633f14-0e95-39d8-a69f-04e3c204d922","metadataId":"0af24073-8ea1-4509-8e2d-6dac28cecfec","effect":"PERMIT","inputNode":"a044c103-830d-3e03-8c99-1d6f14d647ba"},{"class":"StatementNode","id":"3378f8a9-4f31-3b20-833a-c97ee1c50dd4","inputNode":"09633f14-0e95-39d8-a69f-04e3c204d922","metadataId":"0af24073-8ea1-4509-8e2d-6dac28cecfec","statements":[]},{"class":"TargetMatchNode","id":"6167fcda-0c18-3a1e-88a1-f8e7f1357029","inputNode":"3378f8a9-4f31-3b20-833a-c97ee1c50dd4","metadataId":"0af24073-8ea1-4509-8e2d-6dac28cecfec","targets":[]},{"class":"AttributeDefinition","id":"5144cfde-dbf6-41a1-aa4d-c39199dc986c","name":"CDRAttributes.requested_scope","resolvers":[{"class":"attribute","attributeDefinitionId":"447bf9bf-0cf0-4b62-9b55-58fc9f606f49","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"1e82965d-0d18-4809-ae2a-f282d9609526","name":"CDRAttributes.consent_record.approved_scopes","resolvers":[{"class":"attribute","attributeDefinitionId":"2ade78e4-0f5e-4cd8-b861-90c4b9c20122","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.data.APPROVED_SCOPES"}]}},{"type":"SpEL","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this.replace(\"[\",\"\").replace(\"]\",\"\").replace('\"',\"\")"}]}},{"type":"SpEL","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"T(org.springframework.util.CollectionUtils).arrayToList(#this.split(\" \"))"}]}}]},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"0a862c8b-b70f-4ef6-bd4b-99c4448aaf52","name":"CDRAttributes.compare_scope","resolvers":[{"class":"attribute","attributeDefinitionId":"5144cfde-dbf6-41a1-aa4d-c39199dc986c","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this"}]}},{"type":"SpEL","id":null,"name":null,"valueType":"BOOLEAN","expression":{"@class":"JoiningTemplate","components":[{"@class":"Interpolation","hole":"1e82965d-0d18-4809-ae2a-f282d9609526","safelyInterpolatable":false},{"@class":"FixedTemplate","x":".containsAll(#this) and #this.containsAll("},{"@class":"Interpolation","hole":"1e82965d-0d18-4809-ae2a-f282d9609526","safelyInterpolatable":false},{"@class":"FixedTemplate","x":")"}]}}]},{"type":"coerce","valueType":"BOOLEAN"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"b37d5eed-1bed-3448-bce3-41675aac65c8","attributeDefinitionId":"0a862c8b-b70f-4ef6-bd4b-99c4448aaf52"},{"class":"ComparisonNode","id":"3e8e378e-3402-3946-9a91-8c3a443f2d6e","lhsInputNode":"b37d5eed-1bed-3448-bce3-41675aac65c8","rhsInputNode":"c29c351a-9075-3cd4-b783-51df27ef3b34","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"336ae5ac-1cfb-37a5-8590-259f135d2fb7","inputNodes":["3e8e378e-3402-3946-9a91-8c3a443f2d6e"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"ccca7c0f-f754-40d1-8986-02696d4e04ee","name":"Check Consent Scope","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"a29683d0-cfcb-370a-9852-df083b17d619","metadataId":"ccca7c0f-f754-40d1-8986-02696d4e04ee","effect":"PERMIT","inputNode":"336ae5ac-1cfb-37a5-8590-259f135d2fb7"},{"class":"StatementNode","id":"b3788a3d-33c5-34ae-a4a7-a8164f9ca47e","inputNode":"a29683d0-cfcb-370a-9852-df083b17d619","metadataId":"ccca7c0f-f754-40d1-8986-02696d4e04ee","statements":[]},{"class":"TargetMatchNode","id":"3edd7459-a016-3302-b0ed-7c1d3257c876","inputNode":"b3788a3d-33c5-34ae-a4a7-a8164f9ca47e","metadataId":"ccca7c0f-f754-40d1-8986-02696d4e04ee","targets":[]},{"class":"AttributeDefinition","id":"4ae40ab7-33ed-4fb1-9dc0-d0c040b76596","name":"CDRAttributes.consent_record.status","resolvers":[{"class":"attribute","attributeDefinitionId":"2ade78e4-0f5e-4cd8-b861-90c4b9c20122","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.status"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"f0be33a8-46f0-3a74-8cac-dc993b23c40f","attributeDefinitionId":"4ae40ab7-33ed-4fb1-9dc0-d0c040b76596"},{"class":"ConstantNode","id":"12284694-c724-3eb5-8bc9-9996c3a12ea1","constant":"accepted"},{"class":"ComparisonNode","id":"e94b68cb-a2d8-3bf3-82fc-ca0e1aa0038a","lhsInputNode":"f0be33a8-46f0-3a74-8cac-dc993b23c40f","rhsInputNode":"12284694-c724-3eb5-8bc9-9996c3a12ea1","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"0811fd96-abce-3729-8716-32551de832d1","inputNodes":["e94b68cb-a2d8-3bf3-82fc-ca0e1aa0038a"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"ed8b2d43-7eaa-44ce-baf1-f4e509d98a7d","name":"Check Consent Status","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"6db355e4-1fc9-334a-8e9a-65d35280daab","metadataId":"ed8b2d43-7eaa-44ce-baf1-f4e509d98a7d","effect":"DENY","inputNode":"0811fd96-abce-3729-8716-32551de832d1"},{"class":"StatementNode","id":"684ffb3e-639f-3620-a88f-ef3d0c6b7058","inputNode":"6db355e4-1fc9-334a-8e9a-65d35280daab","metadataId":"ed8b2d43-7eaa-44ce-baf1-f4e509d98a7d","statements":[]},{"class":"TargetMatchNode","id":"3cb1f16b-a8a3-369e-9c49-0882933ad35b","inputNode":"684ffb3e-639f-3620-a88f-ef3d0c6b7058","metadataId":"ed8b2d43-7eaa-44ce-baf1-f4e509d98a7d","targets":[]},{"class":"Metadata","originType":"Policy","originId":"3dc15f7c-9a55-4418-a7f6-30d75db0c41e","name":"Check Consent","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"5d9d26b8-2b3e-3cd0-b4e0-df21d78f0646","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["6167fcda-0c18-3a1e-88a1-f8e7f1357029","3edd7459-a016-3302-b0ed-7c1d3257c876","3cb1f16b-a8a3-369e-9c49-0882933ad35b"],"inputNodeWeights":[100,100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"3dc15f7c-9a55-4418-a7f6-30d75db0c41e"},{"class":"StatementTemplate","id":"cb9a9c92-e1d8-44ae-a117-50a87cf9388d","name":"Add X-USER","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"modify-headers"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"X-USER\": \""},{"@class":"Interpolation","hole":"ee41314a-eb03-4a6e-9561-82ff8dd13865","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"\"}"}]},"obligatory":true,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementTemplate","id":"7da3a5e0-a4c9-486f-8ea7-a7e8413bb0ea","name":"Consent Not Active","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{ \"status\": 403, \"message\": \"consent_inactive\", \"detail\":\"Consent is not active\"}"}]},"obligatory":false,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementNode","id":"ac62b8ff-b286-35a9-8626-a2bd65800f23","inputNode":"5d9d26b8-2b3e-3cd0-b4e0-df21d78f0646","metadataId":"3dc15f7c-9a55-4418-a7f6-30d75db0c41e","statements":["cb9a9c92-e1d8-44ae-a117-50a87cf9388d","7da3a5e0-a4c9-486f-8ea7-a7e8413bb0ea"]},{"class":"TargetMatchNode","id":"1be575b1-b220-3cb9-9d7f-1aefce79039e","inputNode":"ac62b8ff-b286-35a9-8626-a2bd65800f23","metadataId":"3dc15f7c-9a55-4418-a7f6-30d75db0c41e","targets":[]},{"class":"Metadata","originType":"Policy","originId":"aadcd68e-1bd3-4c62-b3cd-f84fde0ab6a2","name":"Send X-Accounts Header","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"1a419b73-fa13-338b-9317-c75439867a14","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":[],"inputNodeWeights":[],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"aadcd68e-1bd3-4c62-b3cd-f84fde0ab6a2"},{"class":"AttributeDefinition","id":"7b1a229a-74e7-45c1-980c-8bd7e235a35a","name":"CDRAttributes.consent_record.approved_accounts","resolvers":[{"class":"attribute","attributeDefinitionId":"2ade78e4-0f5e-4cd8-b861-90c4b9c20122","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.data.SELECTED_ACCOUNTS"}]}},{"type":"SpEL","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this.replace(\"[\",\"\").replace(\"]\",\"\").replace('\"',\"\")"}]}}]},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"StatementTemplate","id":"cb34f7e4-80e5-4afc-8b52-a69058982182","name":"Add X-Accounts","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"modify-headers"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"X-ACCOUNTS\": \""},{"@class":"Interpolation","hole":"7b1a229a-74e7-45c1-980c-8bd7e235a35a","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"\"}"}]},"obligatory":true,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementNode","id":"5fce7a85-6b04-3167-ae9f-64ab645b73d9","inputNode":"1a419b73-fa13-338b-9317-c75439867a14","metadataId":"aadcd68e-1bd3-4c62-b3cd-f84fde0ab6a2","statements":["cb34f7e4-80e5-4afc-8b52-a69058982182"]},{"class":"TargetMatchNode","id":"bc9d94d1-8e80-38d0-8a7b-183a7328c243","inputNode":"5fce7a85-6b04-3167-ae9f-64ab645b73d9","metadataId":"aadcd68e-1bd3-4c62-b3cd-f84fde0ab6a2","targets":[]},{"class":"AttributeNode","id":"6d339b70-c312-3b3e-b8e7-b044d15d0680","attributeDefinitionId":"7b1a229a-74e7-45c1-980c-8bd7e235a35a"},{"class":"AttributeDefinition","id":"262987d9-0d9c-4a05-b28a-fb53a2a6521e","name":"AccountResponse","resolvers":[],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"1f30e944-4d0a-43d0-a5df-3b585bb0018a","name":"AccountResponse.AccountId","resolvers":[{"class":"attribute","attributeDefinitionId":"262987d9-0d9c-4a05-b28a-fb53a2a6521e","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"eb37f5bd-760e-377e-b0d2-52b2a2531bcb","attributeDefinitionId":"1f30e944-4d0a-43d0-a5df-3b585bb0018a"},{"class":"ComparisonNode","id":"3ab09371-084b-35ed-9017-8602b87ed3e2","lhsInputNode":"6d339b70-c312-3b3e-b8e7-b044d15d0680","rhsInputNode":"eb37f5bd-760e-377e-b0d2-52b2a2531bcb","operator":"CONTAINS"},{"class":"BooleanLogicNode","id":"3c53d444-4924-3ea5-82e8-2f982cd1b993","inputNodes":["3ab09371-084b-35ed-9017-8602b87ed3e2"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"9a8569c9-9b4d-423f-899c-d6728e19d8c6","name":"Check Account has been Consented","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"f2a3829e-9abd-3b66-96e6-a2810ae77ab2","metadataId":"9a8569c9-9b4d-423f-899c-d6728e19d8c6","effect":"PERMIT","inputNode":"3c53d444-4924-3ea5-82e8-2f982cd1b993"},{"class":"StatementNode","id":"df9ccb66-13a0-3345-8963-d4880c070311","inputNode":"f2a3829e-9abd-3b66-96e6-a2810ae77ab2","metadataId":"9a8569c9-9b4d-423f-899c-d6728e19d8c6","statements":[]},{"class":"TargetMatchNode","id":"3817acb6-259b-3803-8606-c9f51b751ad2","inputNode":"df9ccb66-13a0-3345-8963-d4880c070311","metadataId":"9a8569c9-9b4d-423f-899c-d6728e19d8c6","targets":[]},{"class":"Metadata","originType":"Policy","originId":"d993e4db-c9c1-49f0-a75d-ea923dc7089c","name":"Check AccountId","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"cf5b7a91-a946-3ecd-8303-bfe80360a32e","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["3817acb6-259b-3803-8606-c9f51b751ad2"],"inputNodeWeights":[100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"d993e4db-c9c1-49f0-a75d-ea923dc7089c"},{"class":"StatementNode","id":"6120b07e-2173-37dd-931d-807b8fd493fa","inputNode":"cf5b7a91-a946-3ecd-8303-bfe80360a32e","metadataId":"d993e4db-c9c1-49f0-a75d-ea923dc7089c","statements":["7da3a5e0-a4c9-486f-8ea7-a7e8413bb0ea"]},{"class":"Target","id":"4f665ff8-27f5-42bc-9c7e-cc79dcb4ae61","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["cdr-account-balance-request"]},{"class":"TargetMatchNode","id":"9ce6811e-0777-33c6-b112-197cf38d8772","inputNode":"6120b07e-2173-37dd-931d-807b8fd493fa","metadataId":"d993e4db-c9c1-49f0-a75d-ea923dc7089c","targets":["4f665ff8-27f5-42bc-9c7e-cc79dcb4ae61"]},{"class":"AttributeDefinition","id":"70f94c27-358f-4a20-a968-43799acd3d1b","name":"HttpRequest.ResourcePath","resolvers":[{"class":"attribute","attributeDefinitionId":"a007b39b-33ca-436c-977f-21a4831daa96","condition":null,"expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"ResourcePath"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"7845fbb5-a337-349f-bb06-3e216783f5a6","attributeDefinitionId":"70f94c27-358f-4a20-a968-43799acd3d1b"},{"class":"ConstantNode","id":"f33c4b58-1c95-3fa1-8b4a-eafad0d5d760","constant":"accounts"},{"class":"ComparisonNode","id":"fdeb35ca-ce23-3085-9246-2aedcbf22d6b","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"f33c4b58-1c95-3fa1-8b4a-eafad0d5d760","operator":"EQUALS"},{"class":"ConstantNode","id":"f8234bc9-693f-3b06-92ca-8c8b957e7b58","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}/balance"},{"class":"ComparisonNode","id":"bc15077d-afee-31ed-9b73-512b2f00031c","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"f8234bc9-693f-3b06-92ca-8c8b957e7b58","operator":"REGULAR_EXPRESSION"},{"class":"ConstantNode","id":"3692e82d-c9a2-3833-93a1-65497ff1f022","constant":"accounts/balances"},{"class":"ComparisonNode","id":"ab5701be-79da-3a0d-a134-2c356d518bcd","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"3692e82d-c9a2-3833-93a1-65497ff1f022","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"d520951c-0771-3b4b-be0d-066f6c36182d","inputNodes":["fdeb35ca-ce23-3085-9246-2aedcbf22d6b","bc15077d-afee-31ed-9b73-512b2f00031c","ab5701be-79da-3a0d-a134-2c356d518bcd"],"operator":"or"},{"class":"AttributeDefinition","id":"4d7994a5-a83c-4251-87dd-9320535d001d","name":"CDRAttributes.CDRScope.AccountsRead","resolvers":[],"defaultValue":"bank:accounts.basic:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"53372c87-8ce6-3823-b63a-1f5fedd96dc0","attributeDefinitionId":"4d7994a5-a83c-4251-87dd-9320535d001d"},{"class":"ComparisonNode","id":"aea2f7f0-5bb6-3244-b5a1-d877b0c3cc94","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"53372c87-8ce6-3823-b63a-1f5fedd96dc0","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"21a9118c-cf44-34d6-82f6-92a5cbc14509","inputNodes":["d520951c-0771-3b4b-be0d-066f6c36182d","aea2f7f0-5bb6-3244-b5a1-d877b0c3cc94"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"927132ad-47d7-46a3-8732-a7a35d5f1ede","name":"Check Banking Account URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"345c0728-62c6-3b20-8e48-d34a553f0dbe","metadataId":"927132ad-47d7-46a3-8732-a7a35d5f1ede","effect":"DENY","inputNode":"21a9118c-cf44-34d6-82f6-92a5cbc14509"},{"class":"StatementNode","id":"7a2c913c-5b8b-397b-96a8-5b52b12b7e04","inputNode":"345c0728-62c6-3b20-8e48-d34a553f0dbe","metadataId":"927132ad-47d7-46a3-8732-a7a35d5f1ede","statements":[]},{"class":"TargetMatchNode","id":"9a1713ea-b1dd-35a3-8ecd-fa27b8794bde","inputNode":"7a2c913c-5b8b-397b-96a8-5b52b12b7e04","metadataId":"927132ad-47d7-46a3-8732-a7a35d5f1ede","targets":[]},{"class":"ConstantNode","id":"00f6f7bb-63be-3d46-88e9-c8498d119396","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}"},{"class":"ComparisonNode","id":"296da4c3-bbf4-37c3-800e-42b717314a10","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"00f6f7bb-63be-3d46-88e9-c8498d119396","operator":"REGULAR_EXPRESSION"},{"class":"AttributeDefinition","id":"7396cbde-586b-4426-afc7-0091b95d77d2","name":"CDRAttributes.CDRScope.AccountsDetailRead","resolvers":[],"defaultValue":"bank:accounts.detail:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"d81c64f3-a946-3081-b640-07334d4bd13c","attributeDefinitionId":"7396cbde-586b-4426-afc7-0091b95d77d2"},{"class":"ComparisonNode","id":"2f95178f-3ba0-335d-98d8-611d5f5de185","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"d81c64f3-a946-3081-b640-07334d4bd13c","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"e72c945e-bff0-3ef0-893c-3f63dfc6aef8","inputNodes":["aea2f7f0-5bb6-3244-b5a1-d877b0c3cc94","2f95178f-3ba0-335d-98d8-611d5f5de185"],"operator":"and"},{"class":"BooleanLogicNode","id":"08d74365-2f81-3a90-83a2-b5deda536796","inputNodes":["296da4c3-bbf4-37c3-800e-42b717314a10","e72c945e-bff0-3ef0-893c-3f63dfc6aef8"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"0b293278-f7bf-41a6-a6a7-5df87aad192a","name":"Check Detail Banking Account URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"3e582613-28cc-39b3-8caa-cc437f3b75e6","metadataId":"0b293278-f7bf-41a6-a6a7-5df87aad192a","effect":"DENY","inputNode":"08d74365-2f81-3a90-83a2-b5deda536796"},{"class":"StatementNode","id":"a8df0617-5fb9-3bda-b582-9e2e7ec34567","inputNode":"3e582613-28cc-39b3-8caa-cc437f3b75e6","metadataId":"0b293278-f7bf-41a6-a6a7-5df87aad192a","statements":[]},{"class":"TargetMatchNode","id":"3142d413-1768-323d-b49f-3fcb4c080336","inputNode":"a8df0617-5fb9-3bda-b582-9e2e7ec34567","metadataId":"0b293278-f7bf-41a6-a6a7-5df87aad192a","targets":[]},{"class":"ConstantNode","id":"f62fc25a-afe8-3e5d-8e3c-1b3815b0cc21","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}/transactions"},{"class":"ComparisonNode","id":"f741cd3b-46b3-3a45-b079-a19bd40b3af1","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"f62fc25a-afe8-3e5d-8e3c-1b3815b0cc21","operator":"REGULAR_EXPRESSION"},{"class":"ConstantNode","id":"f8847cfd-ea4b-34e3-9549-254a5257f36b","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}/transactions/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}"},{"class":"ComparisonNode","id":"91983668-6017-3081-90a0-ab8564ec63d3","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"f8847cfd-ea4b-34e3-9549-254a5257f36b","operator":"REGULAR_EXPRESSION"},{"class":"BooleanLogicNode","id":"9662e923-ac8f-3ad7-a57c-3581a489d084","inputNodes":["f741cd3b-46b3-3a45-b079-a19bd40b3af1","91983668-6017-3081-90a0-ab8564ec63d3"],"operator":"or"},{"class":"AttributeDefinition","id":"5b1fc7dc-5a88-4404-bccf-24cc7634adc7","name":"CDRAttributes.CDRScope.TransactionsRead","resolvers":[],"defaultValue":"bank:transactions:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"3c1c7d76-212e-3c49-815b-551e4aa046a1","attributeDefinitionId":"5b1fc7dc-5a88-4404-bccf-24cc7634adc7"},{"class":"ComparisonNode","id":"3fce824c-b1b5-3e87-880d-bea6ca98ac8e","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"3c1c7d76-212e-3c49-815b-551e4aa046a1","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"0e15c0a2-dee8-3827-a4db-2d4b6e57f1bc","inputNodes":["9662e923-ac8f-3ad7-a57c-3581a489d084","3fce824c-b1b5-3e87-880d-bea6ca98ac8e"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"ef121ad2-6f7d-40dc-8486-8966685bda61","name":"Check Transaction URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"6d9ee8d4-ef6f-3622-8bc0-a04aadccb9b3","metadataId":"ef121ad2-6f7d-40dc-8486-8966685bda61","effect":"DENY","inputNode":"0e15c0a2-dee8-3827-a4db-2d4b6e57f1bc"},{"class":"StatementNode","id":"a7fb3799-c27a-3428-839d-f1ee2c7e0784","inputNode":"6d9ee8d4-ef6f-3622-8bc0-a04aadccb9b3","metadataId":"ef121ad2-6f7d-40dc-8486-8966685bda61","statements":[]},{"class":"TargetMatchNode","id":"3a47f337-243b-3eb4-8a56-485f5fe3fe2e","inputNode":"a7fb3799-c27a-3428-839d-f1ee2c7e0784","metadataId":"ef121ad2-6f7d-40dc-8486-8966685bda61","targets":[]},{"class":"ConstantNode","id":"5ea32cc0-59a7-3cb7-966a-22a9952b78b9","constant":"accounts/direct-debits"},{"class":"ComparisonNode","id":"2c988de7-1855-3ffe-bc07-f9fa51040aac","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"5ea32cc0-59a7-3cb7-966a-22a9952b78b9","operator":"EQUALS"},{"class":"ConstantNode","id":"25b7f50f-81d9-380c-9901-e14e4f190049","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}/direct-debits"},{"class":"ComparisonNode","id":"6c368a90-2463-3393-a21a-265b74c6981f","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"25b7f50f-81d9-380c-9901-e14e4f190049","operator":"REGULAR_EXPRESSION"},{"class":"ConstantNode","id":"9efdb0ff-c520-3401-bac9-24945a4e57a3","constant":"payments/scheduled"},{"class":"ComparisonNode","id":"88d1a8ef-22dd-3608-a816-6acdd64a3c89","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"9efdb0ff-c520-3401-bac9-24945a4e57a3","operator":"EQUALS"},{"class":"ConstantNode","id":"71b87474-a146-3452-a9fe-c73e02db3982","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}/payments/scheduled"},{"class":"ComparisonNode","id":"de86a812-f104-3299-971a-ecafcc812d01","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"71b87474-a146-3452-a9fe-c73e02db3982","operator":"REGULAR_EXPRESSION"},{"class":"BooleanLogicNode","id":"ea48b331-4b5e-3b42-911e-704ffacc362c","inputNodes":["2c988de7-1855-3ffe-bc07-f9fa51040aac","6c368a90-2463-3393-a21a-265b74c6981f","88d1a8ef-22dd-3608-a816-6acdd64a3c89","de86a812-f104-3299-971a-ecafcc812d01"],"operator":"or"},{"class":"AttributeDefinition","id":"649be381-0ef5-4c67-a24d-d5c78f87f297","name":"CDRAttributes.CDRScope.RegularPaymentsRead","resolvers":[],"defaultValue":"bank:regular_payments:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"9788e892-d3a6-3654-ba42-f147bca777f7","attributeDefinitionId":"649be381-0ef5-4c67-a24d-d5c78f87f297"},{"class":"ComparisonNode","id":"7c0cd667-1e84-33f1-8f0e-824bed5a56a9","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"9788e892-d3a6-3654-ba42-f147bca777f7","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"b8f86590-312d-34ef-a8b7-396eb05b6c00","inputNodes":["ea48b331-4b5e-3b42-911e-704ffacc362c","7c0cd667-1e84-33f1-8f0e-824bed5a56a9"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"fb725696-5ff8-40fc-ac54-23d1ada9309a","name":"Check Direct Debit and Schedule URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"8e2929ec-7184-3695-b5b8-c0af3499d28e","metadataId":"fb725696-5ff8-40fc-ac54-23d1ada9309a","effect":"DENY","inputNode":"b8f86590-312d-34ef-a8b7-396eb05b6c00"},{"class":"StatementNode","id":"f05cc12e-d5dc-311f-9abe-8acdfe99161c","inputNode":"8e2929ec-7184-3695-b5b8-c0af3499d28e","metadataId":"fb725696-5ff8-40fc-ac54-23d1ada9309a","statements":[]},{"class":"TargetMatchNode","id":"b584e82b-2ee2-31c6-953f-e640a6e559a3","inputNode":"f05cc12e-d5dc-311f-9abe-8acdfe99161c","metadataId":"fb725696-5ff8-40fc-ac54-23d1ada9309a","targets":[]},{"class":"ConstantNode","id":"7f92a5a2-d97d-3e75-9f84-e21c0781d9d4","constant":"payees"},{"class":"ComparisonNode","id":"e6edd688-32b2-3aed-9dae-0c194a1f2090","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"7f92a5a2-d97d-3e75-9f84-e21c0781d9d4","operator":"STARTS_WITH"},{"class":"BooleanLogicNode","id":"37715648-a590-38f9-9167-06d11663051e","inputNodes":["e6edd688-32b2-3aed-9dae-0c194a1f2090"],"operator":"or"},{"class":"AttributeDefinition","id":"cd89a863-3a7e-44d5-a344-baecbcbf13f6","name":"CDRAttributes.CDRScope.PayeesRead","resolvers":[],"defaultValue":"bank:payees:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"1d203f31-4011-30da-8998-64541a1de4fb","attributeDefinitionId":"cd89a863-3a7e-44d5-a344-baecbcbf13f6"},{"class":"ComparisonNode","id":"a7c35fc8-b824-3108-b1f8-54721580a0e1","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"1d203f31-4011-30da-8998-64541a1de4fb","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"34524ae2-77cb-3b8c-9dac-4a8f14777e99","inputNodes":["37715648-a590-38f9-9167-06d11663051e","a7c35fc8-b824-3108-b1f8-54721580a0e1"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"1b5349fd-5da2-4707-ba32-838538f88ca6","name":"Check Payee URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"e2dbafce-cc41-3b26-b957-d6c22ddf5204","metadataId":"1b5349fd-5da2-4707-ba32-838538f88ca6","effect":"DENY","inputNode":"34524ae2-77cb-3b8c-9dac-4a8f14777e99"},{"class":"StatementNode","id":"49947d6a-01d2-38c9-972b-93840919ce2e","inputNode":"e2dbafce-cc41-3b26-b957-d6c22ddf5204","metadataId":"1b5349fd-5da2-4707-ba32-838538f88ca6","statements":[]},{"class":"TargetMatchNode","id":"385d80fb-ac53-33a9-939b-75cb55c567c8","inputNode":"49947d6a-01d2-38c9-972b-93840919ce2e","metadataId":"1b5349fd-5da2-4707-ba32-838538f88ca6","targets":[]},{"class":"Metadata","originType":"Policy","originId":"1d1df0fe-ef91-4b52-b4b1-d77114ef3a8c","name":"Check URL Scope","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"1a11559c-0129-397b-add5-89e58f36d533","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["9a1713ea-b1dd-35a3-8ecd-fa27b8794bde","3142d413-1768-323d-b49f-3fcb4c080336","3a47f337-243b-3eb4-8a56-485f5fe3fe2e","b584e82b-2ee2-31c6-953f-e640a6e559a3","385d80fb-ac53-33a9-939b-75cb55c567c8"],"inputNodeWeights":[100,100,100,100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"1d1df0fe-ef91-4b52-b4b1-d77114ef3a8c"},{"class":"StatementNode","id":"8b4bbfb2-4ca5-3df1-9028-81d5ddc060fd","inputNode":"1a11559c-0129-397b-add5-89e58f36d533","metadataId":"1d1df0fe-ef91-4b52-b4b1-d77114ef3a8c","statements":[]},{"class":"TargetMatchNode","id":"866f88ef-a9f7-3919-ae8e-65160d9c861b","inputNode":"8b4bbfb2-4ca5-3df1-9028-81d5ddc060fd","metadataId":"1d1df0fe-ef91-4b52-b4b1-d77114ef3a8c","targets":[]},{"class":"BooleanLogicNode","id":"8760a7a5-b738-33d5-a807-2c0b5dada24d","inputNodes":["2f95178f-3ba0-335d-98d8-611d5f5de185"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"5e5083ce-4515-4bfa-a83b-efb98d1b6ba7","name":"Permit always","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"2f43cb1e-840e-3a82-aaf9-2cc96ead6796","metadataId":"5e5083ce-4515-4bfa-a83b-efb98d1b6ba7","effect":"PERMIT","inputNode":"8760a7a5-b738-33d5-a807-2c0b5dada24d"},{"class":"StatementTemplate","id":"8729a8f9-6893-49e1-9a0f-88983311dbd4","name":"Only include basic attrs","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"include-attributes"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"[\"links\", \"meta\", \"data.accountId\", \"data.displayName\", \"data.nickname\", \"data.productCategory\", \"data.productName\"]"}]},"obligatory":false,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementNode","id":"1b1d2607-0971-37dd-9d39-0a7a1a325f4a","inputNode":"2f43cb1e-840e-3a82-aaf9-2cc96ead6796","metadataId":"5e5083ce-4515-4bfa-a83b-efb98d1b6ba7","statements":["8729a8f9-6893-49e1-9a0f-88983311dbd4"]},{"class":"TargetMatchNode","id":"54dded6e-2797-3d3e-a5d3-855f99880b18","inputNode":"1b1d2607-0971-37dd-9d39-0a7a1a325f4a","metadataId":"5e5083ce-4515-4bfa-a83b-efb98d1b6ba7","targets":[]},{"class":"Metadata","originType":"Policy","originId":"3e2881d2-ef6c-4925-85e1-9441fae05de6","name":"Single Account","properties":{},"disabled":false,"repetitionSettings":null},{"class":"ConstantNode","id":"bb67c76f-b4d5-3a04-8f4a-74ea946da159","constant":"cds-au/v1/banking/accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}"},{"class":"ComparisonNode","id":"d2ab28df-3239-393a-a0fe-7f2a2d145111","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"bb67c76f-b4d5-3a04-8f4a-74ea946da159","operator":"REGULAR_EXPRESSION"},{"class":"BooleanLogicNode","id":"0675efdc-2843-3502-90b7-0ef04fd5d1c8","inputNodes":["d2ab28df-3239-393a-a0fe-7f2a2d145111","296da4c3-bbf4-37c3-800e-42b717314a10"],"operator":"or"},{"class":"CombinedDecisionNode","id":"904ef6f1-96db-3c86-ab97-1298acfdd9b2","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["54dded6e-2797-3d3e-a5d3-855f99880b18"],"inputNodeWeights":[100],"guardNode":"0675efdc-2843-3502-90b7-0ef04fd5d1c8","originLink":"3e2881d2-ef6c-4925-85e1-9441fae05de6"},{"class":"StatementNode","id":"5415da80-e526-3797-aabf-37d8df12bf25","inputNode":"904ef6f1-96db-3c86-ab97-1298acfdd9b2","metadataId":"3e2881d2-ef6c-4925-85e1-9441fae05de6","statements":[]},{"class":"TargetMatchNode","id":"df087d45-828d-3f55-82bd-12c11eed18b8","inputNode":"5415da80-e526-3797-aabf-37d8df12bf25","metadataId":"3e2881d2-ef6c-4925-85e1-9441fae05de6","targets":[]},{"class":"Metadata","originType":"Rule","originId":"e46978dc-39bd-4622-91dd-9b4407abaddc","name":"Permit always","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"6473caee-d1df-3cc0-aecc-66128dfe8321","metadataId":"e46978dc-39bd-4622-91dd-9b4407abaddc","effect":"PERMIT","inputNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d"},{"class":"StatementTemplate","id":"448165e0-d9b4-476f-9c00-763249fccc41","name":"Only include basic attrs","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"include-attributes"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"[\"links\", \"meta\", \"data.accounts[*].accountId\", \"data.accounts[*].displayName\", \"data.accounts[*].nickname\", \"data.accounts[*].productCategory\", \"data.accounts[*].productName\"]"}]},"obligatory":false,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementNode","id":"d3f8cb6b-5245-35ed-b9ee-29fa9170bc4a","inputNode":"6473caee-d1df-3cc0-aecc-66128dfe8321","metadataId":"e46978dc-39bd-4622-91dd-9b4407abaddc","statements":["448165e0-d9b4-476f-9c00-763249fccc41"]},{"class":"TargetMatchNode","id":"e472a47f-5c99-3cd8-a9bb-96d147f85689","inputNode":"d3f8cb6b-5245-35ed-b9ee-29fa9170bc4a","metadataId":"e46978dc-39bd-4622-91dd-9b4407abaddc","targets":[]},{"class":"Metadata","originType":"Policy","originId":"16f8fce7-5adf-4825-9f4f-c4216c5724f0","name":"Account List","properties":{},"disabled":false,"repetitionSettings":null},{"class":"ConstantNode","id":"186f9f1d-4a2e-3a48-93a9-6d96be6e01d5","constant":"cds-au/v1/banking/accounts"},{"class":"ComparisonNode","id":"5c37a36a-6c60-35c0-a1c0-4a233c7a17f5","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"186f9f1d-4a2e-3a48-93a9-6d96be6e01d5","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"959b22bf-571d-30c4-b38c-ed23710f0181","inputNodes":["5c37a36a-6c60-35c0-a1c0-4a233c7a17f5","fdeb35ca-ce23-3085-9246-2aedcbf22d6b"],"operator":"or"},{"class":"CombinedDecisionNode","id":"4d057a9f-a0e1-3c09-8cff-4fe3a3edea52","combiningAlgorithm":{"name":"PermitOverrides"},"inputNodes":["e472a47f-5c99-3cd8-a9bb-96d147f85689"],"inputNodeWeights":[100],"guardNode":"959b22bf-571d-30c4-b38c-ed23710f0181","originLink":"16f8fce7-5adf-4825-9f4f-c4216c5724f0"},{"class":"StatementNode","id":"516e9774-362d-338d-aca6-ae083a174bc3","inputNode":"4d057a9f-a0e1-3c09-8cff-4fe3a3edea52","metadataId":"16f8fce7-5adf-4825-9f4f-c4216c5724f0","statements":[]},{"class":"TargetMatchNode","id":"e40a3ddf-3a34-3057-bf0f-ae11e95fe28d","inputNode":"516e9774-362d-338d-aca6-ae083a174bc3","metadataId":"16f8fce7-5adf-4825-9f4f-c4216c5724f0","targets":[]},{"class":"Metadata","originType":"PolicySet","originId":"d81b0062-4527-4017-b2e8-faca33140f0c","name":"Filter attributes","properties":{},"disabled":false,"repetitionSettings":null},{"class":"ComparisonNode","id":"294814d9-3e32-374e-918d-8cb7e148d760","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"186f9f1d-4a2e-3a48-93a9-6d96be6e01d5","operator":"STARTS_WITH"},{"class":"ComparisonNode","id":"63a56ae5-8cd8-3388-80e9-21a36e1c8d77","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"f33c4b58-1c95-3fa1-8b4a-eafad0d5d760","operator":"STARTS_WITH"},{"class":"BooleanLogicNode","id":"ca0421a3-68f0-34fb-ae6e-38318887f30b","inputNodes":["294814d9-3e32-374e-918d-8cb7e148d760","63a56ae5-8cd8-3388-80e9-21a36e1c8d77"],"operator":"or"},{"class":"CombinedDecisionNode","id":"5e32a99b-48db-3ae7-8c34-9703a61faedd","combiningAlgorithm":{"name":"PermitOverrides"},"inputNodes":["df087d45-828d-3f55-82bd-12c11eed18b8","e40a3ddf-3a34-3057-bf0f-ae11e95fe28d"],"inputNodeWeights":[100,100],"guardNode":"ca0421a3-68f0-34fb-ae6e-38318887f30b","originLink":"d81b0062-4527-4017-b2e8-faca33140f0c"},{"class":"StatementNode","id":"2c466e3a-b873-3e20-b732-9c4181e2a263","inputNode":"5e32a99b-48db-3ae7-8c34-9703a61faedd","metadataId":"d81b0062-4527-4017-b2e8-faca33140f0c","statements":[]},{"class":"Target","id":"863fda80-2a4b-40dd-87b3-ca3693b0025d","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["outbound-GET"]},{"class":"TargetMatchNode","id":"1a75e50a-f845-3171-84ed-95ce0d885759","inputNode":"2c466e3a-b873-3e20-b732-9c4181e2a263","metadataId":"d81b0062-4527-4017-b2e8-faca33140f0c","targets":["863fda80-2a4b-40dd-87b3-ca3693b0025d"]},{"class":"Metadata","originType":"PolicySet","originId":"51e78686-728f-4dbf-83a0-998878e6f79f","name":"Banking Policy","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"7a21ae7c-c210-334f-885c-fd5d93f5d066","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["866f88ef-a9f7-3919-ae8e-65160d9c861b","1a75e50a-f845-3171-84ed-95ce0d885759"],"inputNodeWeights":[100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"51e78686-728f-4dbf-83a0-998878e6f79f"},{"class":"StatementNode","id":"809d8a3f-1cfd-37c7-8b11-578f7a18aefc","inputNode":"7a21ae7c-c210-334f-885c-fd5d93f5d066","metadataId":"51e78686-728f-4dbf-83a0-998878e6f79f","statements":[]},{"class":"Target","id":"103f9e27-1e8c-4ee8-a139-add83ac0d5bc","name":"Inline target","domains":[],"services":["BankingAPI","Default"],"identityClassIds":[],"actions":[]},{"class":"TargetMatchNode","id":"6b4eeb81-8134-3d49-abe8-1018c6328a3b","inputNode":"809d8a3f-1cfd-37c7-8b11-578f7a18aefc","metadataId":"51e78686-728f-4dbf-83a0-998878e6f79f","targets":["103f9e27-1e8c-4ee8-a139-add83ac0d5bc"]},{"class":"AttributeDefinition","id":"d911e7d6-2dd3-4daa-b0d1-a454bdaff6d7","name":"CDRAttributes.CDRScope.EnergyAccountsRead","resolvers":[],"defaultValue":"energy:accounts.basic:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"02329ff3-c6d9-3e04-8c1c-9d3feab552e4","attributeDefinitionId":"d911e7d6-2dd3-4daa-b0d1-a454bdaff6d7"},{"class":"ComparisonNode","id":"b84392c8-5b4a-315c-9474-2d22fdf99709","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"02329ff3-c6d9-3e04-8c1c-9d3feab552e4","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"975e18e9-e8bf-3285-9a54-5c56ad6375ce","inputNodes":["d520951c-0771-3b4b-be0d-066f6c36182d","b84392c8-5b4a-315c-9474-2d22fdf99709"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"c2f337d9-4eb3-4e8b-8445-92f6307b441d","name":"Check Energy Account URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"1f34c7e7-8a4f-3585-a08e-8ca59af3452d","metadataId":"c2f337d9-4eb3-4e8b-8445-92f6307b441d","effect":"DENY","inputNode":"975e18e9-e8bf-3285-9a54-5c56ad6375ce"},{"class":"StatementNode","id":"8e8baddc-81b0-3a2f-b267-217ce39db2a2","inputNode":"1f34c7e7-8a4f-3585-a08e-8ca59af3452d","metadataId":"c2f337d9-4eb3-4e8b-8445-92f6307b441d","statements":[]},{"class":"TargetMatchNode","id":"31fe07db-5359-31fb-ad58-1ab07b507511","inputNode":"8e8baddc-81b0-3a2f-b267-217ce39db2a2","metadataId":"c2f337d9-4eb3-4e8b-8445-92f6307b441d","targets":[]},{"class":"AttributeDefinition","id":"d86b2490-cd6b-4206-b11b-1c2299929e06","name":"CDRAttributes.CDRScope.EnergyAccountDetailRead","resolvers":[],"defaultValue":"energy:accounts.detail:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"86669304-6d1b-3eee-b5a9-bd729e27667d","attributeDefinitionId":"d86b2490-cd6b-4206-b11b-1c2299929e06"},{"class":"ComparisonNode","id":"eec16a82-a811-3cf5-8529-16c058c01017","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"86669304-6d1b-3eee-b5a9-bd729e27667d","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"1682a988-978a-3efd-87fa-3d94a5f5c8cb","inputNodes":["b84392c8-5b4a-315c-9474-2d22fdf99709","eec16a82-a811-3cf5-8529-16c058c01017"],"operator":"and"},{"class":"BooleanLogicNode","id":"cddcb708-d43d-3dd2-a93b-bc340d2eed45","inputNodes":["296da4c3-bbf4-37c3-800e-42b717314a10","1682a988-978a-3efd-87fa-3d94a5f5c8cb"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"2d5cdb6e-6977-412e-8b9b-fe5e6e8a3361","name":"Check Detail Energy Account URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"78c52978-1434-361e-9f0d-2fca9529a9c7","metadataId":"2d5cdb6e-6977-412e-8b9b-fe5e6e8a3361","effect":"DENY","inputNode":"cddcb708-d43d-3dd2-a93b-bc340d2eed45"},{"class":"StatementNode","id":"cd5db018-ecf9-322c-89ac-41e5d45a2803","inputNode":"78c52978-1434-361e-9f0d-2fca9529a9c7","metadataId":"2d5cdb6e-6977-412e-8b9b-fe5e6e8a3361","statements":[]},{"class":"TargetMatchNode","id":"85e80155-f864-3c21-8fbe-646490d222d4","inputNode":"cd5db018-ecf9-322c-89ac-41e5d45a2803","metadataId":"2d5cdb6e-6977-412e-8b9b-fe5e6e8a3361","targets":[]},{"class":"Metadata","originType":"Policy","originId":"7f5666d8-8508-4156-8ca8-9dac5ad5cd4c","name":"Check URL Scope","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"d10435ac-7305-3711-b2ff-3d8d95e78836","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["31fe07db-5359-31fb-ad58-1ab07b507511","85e80155-f864-3c21-8fbe-646490d222d4"],"inputNodeWeights":[100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"7f5666d8-8508-4156-8ca8-9dac5ad5cd4c"},{"class":"StatementNode","id":"fbc1c247-a5b7-3207-ba73-52f4ee7f94e0","inputNode":"d10435ac-7305-3711-b2ff-3d8d95e78836","metadataId":"7f5666d8-8508-4156-8ca8-9dac5ad5cd4c","statements":[]},{"class":"TargetMatchNode","id":"20a828e9-a5e0-3af9-8212-d8ac5b8bf4db","inputNode":"fbc1c247-a5b7-3207-ba73-52f4ee7f94e0","metadataId":"7f5666d8-8508-4156-8ca8-9dac5ad5cd4c","targets":[]},{"class":"BooleanLogicNode","id":"111a0c12-af3a-3292-9334-2b0f398fbc99","inputNodes":["eec16a82-a811-3cf5-8529-16c058c01017"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"0a30709c-034f-4654-b274-f69d5f05af5c","name":"Permit always","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"c0d493eb-948a-3e0d-8826-11889b67bf8d","metadataId":"0a30709c-034f-4654-b274-f69d5f05af5c","effect":"PERMIT","inputNode":"111a0c12-af3a-3292-9334-2b0f398fbc99"},{"class":"StatementTemplate","id":"2572600c-20a6-4ad5-afc3-fd3b50692436","name":"Exclude planDetails","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"exclude-attributes"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"[\"data.plans..planDetail\"]"}]},"obligatory":false,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementNode","id":"2ae50243-2e9a-3ef2-8c77-4d2b5dfef280","inputNode":"c0d493eb-948a-3e0d-8826-11889b67bf8d","metadataId":"0a30709c-034f-4654-b274-f69d5f05af5c","statements":["2572600c-20a6-4ad5-afc3-fd3b50692436"]},{"class":"TargetMatchNode","id":"139ecc0b-a5cb-393a-964b-a724d75c86bd","inputNode":"2ae50243-2e9a-3ef2-8c77-4d2b5dfef280","metadataId":"0a30709c-034f-4654-b274-f69d5f05af5c","targets":[]},{"class":"Metadata","originType":"Policy","originId":"e3c12588-70c6-4faa-b073-ef50b9b844cd","name":"Single Account","properties":{},"disabled":false,"repetitionSettings":null},{"class":"BooleanLogicNode","id":"cfa19afe-f424-3044-9f51-7aef40cc2033","inputNodes":["296da4c3-bbf4-37c3-800e-42b717314a10"],"operator":"and"},{"class":"CombinedDecisionNode","id":"fbdcb19b-08af-3e69-97aa-ec4ec9ad0b9c","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["139ecc0b-a5cb-393a-964b-a724d75c86bd"],"inputNodeWeights":[100],"guardNode":"cfa19afe-f424-3044-9f51-7aef40cc2033","originLink":"e3c12588-70c6-4faa-b073-ef50b9b844cd"},{"class":"StatementNode","id":"904c18f5-d0bb-35e2-adda-27572b1deafb","inputNode":"fbdcb19b-08af-3e69-97aa-ec4ec9ad0b9c","metadataId":"e3c12588-70c6-4faa-b073-ef50b9b844cd","statements":[]},{"class":"TargetMatchNode","id":"8c77714b-93fd-358c-bcd2-45f682276a27","inputNode":"904c18f5-d0bb-35e2-adda-27572b1deafb","metadataId":"e3c12588-70c6-4faa-b073-ef50b9b844cd","targets":[]},{"class":"Metadata","originType":"Rule","originId":"ff17c56a-9bb9-4db0-bf2a-d9ed13162fd2","name":"Permit always","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"40c030fa-4ccd-35fb-a06d-9da82f8bd49d","metadataId":"ff17c56a-9bb9-4db0-bf2a-d9ed13162fd2","effect":"PERMIT","inputNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d"},{"class":"StatementTemplate","id":"03bd6e35-ce32-4db3-ba0f-f9eab5b528e9","name":"Exclude details","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"exclude-attributes"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"[\"data.accounts[*].plans[*].planDetail\"]"}]},"obligatory":false,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementNode","id":"e27024e1-3804-3a4b-8cfc-7f734ace023f","inputNode":"40c030fa-4ccd-35fb-a06d-9da82f8bd49d","metadataId":"ff17c56a-9bb9-4db0-bf2a-d9ed13162fd2","statements":["03bd6e35-ce32-4db3-ba0f-f9eab5b528e9"]},{"class":"TargetMatchNode","id":"9292eba4-cbbf-3470-a205-34066c9ba7db","inputNode":"e27024e1-3804-3a4b-8cfc-7f734ace023f","metadataId":"ff17c56a-9bb9-4db0-bf2a-d9ed13162fd2","targets":[]},{"class":"Metadata","originType":"Policy","originId":"3481ba20-4c3a-478a-9442-07d0cc7251cc","name":"Account List","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"912814cc-97af-33d1-8a09-b7ad217abc4a","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["9292eba4-cbbf-3470-a205-34066c9ba7db"],"inputNodeWeights":[100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"3481ba20-4c3a-478a-9442-07d0cc7251cc"},{"class":"StatementNode","id":"5349d061-70ea-366c-8c0c-d028453984d0","inputNode":"912814cc-97af-33d1-8a09-b7ad217abc4a","metadataId":"3481ba20-4c3a-478a-9442-07d0cc7251cc","statements":[]},{"class":"TargetMatchNode","id":"b410814e-19f0-3946-9e12-eb06088153c5","inputNode":"5349d061-70ea-366c-8c0c-d028453984d0","metadataId":"3481ba20-4c3a-478a-9442-07d0cc7251cc","targets":[]},{"class":"Metadata","originType":"PolicySet","originId":"cfd0dc22-9675-4681-b0f5-b83a9057fdad","name":"Filter attributes","properties":{},"disabled":false,"repetitionSettings":null},{"class":"BooleanLogicNode","id":"b8286638-3b85-3d4b-8e0c-293076dbf44e","inputNodes":["63a56ae5-8cd8-3388-80e9-21a36e1c8d77"],"operator":"and"},{"class":"CombinedDecisionNode","id":"8c9d2bdb-5333-3b6f-9097-7f62d2bd47bd","combiningAlgorithm":{"name":"PermitOverrides"},"inputNodes":["8c77714b-93fd-358c-bcd2-45f682276a27","b410814e-19f0-3946-9e12-eb06088153c5"],"inputNodeWeights":[100,100],"guardNode":"b8286638-3b85-3d4b-8e0c-293076dbf44e","originLink":"cfd0dc22-9675-4681-b0f5-b83a9057fdad"},{"class":"StatementNode","id":"b4a56e87-e927-3193-b79a-c998deaf40cd","inputNode":"8c9d2bdb-5333-3b6f-9097-7f62d2bd47bd","metadataId":"cfd0dc22-9675-4681-b0f5-b83a9057fdad","statements":[]},{"class":"Target","id":"598d9c35-0424-40ee-ba11-c6f5985eb131","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["outbound-GET"]},{"class":"TargetMatchNode","id":"df8096aa-361a-3efe-bae9-7ea05d1c2551","inputNode":"b4a56e87-e927-3193-b79a-c998deaf40cd","metadataId":"cfd0dc22-9675-4681-b0f5-b83a9057fdad","targets":["598d9c35-0424-40ee-ba11-c6f5985eb131"]},{"class":"Metadata","originType":"PolicySet","originId":"d302c9d8-0c5c-467d-a86b-5b481d9a4d2b","name":"Energy Policy","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"e15ba5d6-3ca8-3484-83e0-badb6fdc10eb","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["20a828e9-a5e0-3af9-8212-d8ac5b8bf4db","df8096aa-361a-3efe-bae9-7ea05d1c2551"],"inputNodeWeights":[100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"d302c9d8-0c5c-467d-a86b-5b481d9a4d2b"},{"class":"StatementNode","id":"d1d7a818-ed61-31c7-9227-6e8eebb4b310","inputNode":"e15ba5d6-3ca8-3484-83e0-badb6fdc10eb","metadataId":"d302c9d8-0c5c-467d-a86b-5b481d9a4d2b","statements":[]},{"class":"Target","id":"8d5983ce-e600-4e2c-9763-2bcb43259632","name":"Inline target","domains":[],"services":["EnergyAPI"],"identityClassIds":[],"actions":[]},{"class":"TargetMatchNode","id":"fce4569d-e66d-337a-a037-e2b364ce5457","inputNode":"d1d7a818-ed61-31c7-9227-6e8eebb4b310","metadataId":"d302c9d8-0c5c-467d-a86b-5b481d9a4d2b","targets":["8d5983ce-e600-4e2c-9763-2bcb43259632"]},{"class":"Metadata","originType":"PolicySet","originId":"8c8f030f-ffca-4509-98b9-891d46e4eabe","name":"CDR Policy","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"149f2d6f-9cfa-3caf-a4a9-eb7c09046698","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["1be575b1-b220-3cb9-9d7f-1aefce79039e","bc9d94d1-8e80-38d0-8a7b-183a7328c243","9ce6811e-0777-33c6-b112-197cf38d8772","6b4eeb81-8134-3d49-abe8-1018c6328a3b","fce4569d-e66d-337a-a037-e2b364ce5457"],"inputNodeWeights":[100,100,100,100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"8c8f030f-ffca-4509-98b9-891d46e4eabe"},{"class":"StatementNode","id":"ce7ecbba-d2ae-3b42-9d08-d36d76701810","inputNode":"149f2d6f-9cfa-3caf-a4a9-eb7c09046698","metadataId":"8c8f030f-ffca-4509-98b9-891d46e4eabe","statements":[]},{"class":"Target","id":"0451d509-113c-46ce-a2a4-bc58d906fbc9","name":"Inline target","domains":[],"services":["BankingAPI","EnergyAPI","Default"],"identityClassIds":[],"actions":["inbound-GET","inbound-POST","inbound-PUT","inbound-DELETE","outbound-GET"]},{"class":"TargetMatchNode","id":"3b2a381b-702f-3446-b118-1d7564b11518","inputNode":"ce7ecbba-d2ae-3b42-9d08-d36d76701810","metadataId":"8c8f030f-ffca-4509-98b9-891d46e4eabe","targets":["0451d509-113c-46ce-a2a4-bc58d906fbc9"]},{"class":"ServiceDefinition","id":"4b77f728-9b98-44eb-9123-bf189e2cef9c","name":"Consumer Data Rights.Risk Engine","serviceSettings":{"class":"rest","urlFormat":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"http://host.docker.internal:8085/riskengine/validateDistance?username="},{"@class":"Interpolation","hole":"ee41314a-eb03-4a6e-9561-82ff8dd13865","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"&allowableDistance=100"}]},"body":{"@class":"JoiningTemplate","components":[]},"verb":"GET","contentType":"application/json","headers":[],"authenticationType":"NONE","authenticationAttributes":{"@class":"MapTemplate","map":{}},"tlsSettings":{"@class":"TlsSettings","tlsValidationType":"DEFAULT","tlsTruststore":null,"mtlsValidation":false,"mtlsKeystore":null}},"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"serviceResilience":{"maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"timeoutMilliseconds":2000,"maximumRetryCount":2,"holdoffMilliseconds":1000,"retryStrategy":"FIXED","retryJitter":10.0},"secret":false},{"class":"AttributeDefinition","id":"8c247b84-39aa-42c4-bd46-51d396c9b32f","name":"RiskEngine","resolvers":[{"class":"service","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null,"serviceDefinitionId":"4b77f728-9b98-44eb-9123-bf189e2cef9c"}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"JSON","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"b9954f04-3ba1-48c2-be34-28dd6ed7318d","name":"RiskEngine.passed","resolvers":[{"class":"attribute","attributeDefinitionId":"8c247b84-39aa-42c4-bd46-51d396c9b32f","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"BOOLEAN","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.passed"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"ebd8e011-4b30-36cb-b550-e74632aaa9a4","attributeDefinitionId":"b9954f04-3ba1-48c2-be34-28dd6ed7318d"},{"class":"ComparisonNode","id":"64907a9f-74c7-313b-bd41-0b1ca5415bcc","lhsInputNode":"ebd8e011-4b30-36cb-b550-e74632aaa9a4","rhsInputNode":"7a0aac99-7467-3c46-9ff9-4c4541fe0a7a","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"5dead1ce-4984-3481-b344-0a4cf8458d05","inputNodes":["64907a9f-74c7-313b-bd41-0b1ca5415bcc"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"25e8eedf-94b3-4996-9408-8176c6522633","name":"Determine Risk","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"ac21cab3-815a-3d27-bd66-31f8aa821e99","metadataId":"25e8eedf-94b3-4996-9408-8176c6522633","effect":"DENY","inputNode":"5dead1ce-4984-3481-b344-0a4cf8458d05"},{"class":"StatementTemplate","id":"4a600684-5524-4f71-9b70-4e63529ea550","name":"Denied Response","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{ \"status\": 403, \"message\": \"error_code\", \"detail\":\"High risk\"}"}]},"obligatory":false,"appliesTo":"DENY","attributes":{},"services":{}},{"class":"StatementNode","id":"8d0b209a-720a-32cf-bf9d-d2c3ee628de5","inputNode":"ac21cab3-815a-3d27-bd66-31f8aa821e99","metadataId":"25e8eedf-94b3-4996-9408-8176c6522633","statements":["4a600684-5524-4f71-9b70-4e63529ea550"]},{"class":"TargetMatchNode","id":"d733daf9-a5fd-3652-8eaf-ab59e51a381c","inputNode":"8d0b209a-720a-32cf-bf9d-d2c3ee628de5","metadataId":"25e8eedf-94b3-4996-9408-8176c6522633","targets":[]},{"class":"Metadata","originType":"Policy","originId":"3f4131d4-efd4-4e89-b80e-2038d6728d57","name":"Determine Risk","properties":{},"disabled":true,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"3acb4d86-a1f1-3973-a46a-b6d60236f1c5","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["d733daf9-a5fd-3652-8eaf-ab59e51a381c"],"inputNodeWeights":[100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"3f4131d4-efd4-4e89-b80e-2038d6728d57"},{"class":"StatementNode","id":"49a51d9e-af77-31b0-80d7-fc128edfebcb","inputNode":"3acb4d86-a1f1-3973-a46a-b6d60236f1c5","metadataId":"3f4131d4-efd4-4e89-b80e-2038d6728d57","statements":[]},{"class":"Target","id":"5c4f728a-9bbf-4ac3-ba3d-446e1f33d0a0","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["inbound-GET"]},{"class":"TargetMatchNode","id":"e7fd9575-aced-35b2-af39-bef9ec2bd3e7","inputNode":"49a51d9e-af77-31b0-80d7-fc128edfebcb","metadataId":"3f4131d4-efd4-4e89-b80e-2038d6728d57","targets":["5c4f728a-9bbf-4ac3-ba3d-446e1f33d0a0"]},{"class":"Metadata","originType":"PolicySet","originId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","name":"Global Decision Point","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"3695ce1d-fa73-3ea6-918e-ab2386c10733","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["f768a29c-35e8-3918-af60-e0031c20c41a","c32ba35c-4fc5-3b62-b5f7-5c918a9efab9","3b2a381b-702f-3446-b118-1d7564b11518","e7fd9575-aced-35b2-af39-bef9ec2bd3e7"],"inputNodeWeights":[100,100,100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1"},{"class":"StatementNode","id":"be62d8dc-474a-3aed-ac1e-540cb31f6587","inputNode":"3695ce1d-fa73-3ea6-918e-ab2386c10733","metadataId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","statements":[]},{"class":"TargetMatchNode","id":"d386306b-a14e-3c8c-85d1-8cbe554ff6e7","inputNode":"be62d8dc-474a-3aed-ac1e-540cb31f6587","metadataId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","targets":[]},{"@class":"DataStreamFooter","digest":"Yj7bYZAPhQV2KCM61lew48BNPdKGHResPpoVpxo9cGM="}]