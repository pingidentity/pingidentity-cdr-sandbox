[{"class":"Package","id":"5cb21f4c-c632-4b3e-88fa-98ee2ecebd04","name":"cdr-1.9-fixbase64","deploymentPackageVersion":1,"applicationName":"Symphonic admin-point-application","applicationVersion":"8.12.0.2-GA","dateCreated":"2021-07-12T22:50:57.109250Z","createdBy":"admin","snapshotId":"b3b2ebb3-7fd7-4510-929c-1fe2c28bcad1","snapshotMessage":"cdr-1.9-fixbase64","snapshotDateCommitted":"2021-07-12T22:50:32.011418Z","rootEntityId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","rootEntityName":"Global Decision Point","enabledFeatures":[]},{"class":"AttributeDefinition","id":"a007b39b-33ca-436c-977f-21a4831daa96","name":"HttpRequest","resolvers":[{"class":"request","condition":null,"expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"8e568465-2e7c-4705-8d94-53102ea8550f","name":"HttpRequest.AccessToken","resolvers":[{"class":"attribute","attributeDefinitionId":"a007b39b-33ca-436c-977f-21a4831daa96","condition":null,"expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"JSON","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"AccessToken"}]}},{"type":"coerce","valueType":"JSON"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"9d722951-77a8-4ae6-94f9-6ced4adfee17","name":"HttpRequest.AccessToken.active","resolvers":[{"class":"attribute","attributeDefinitionId":"8e568465-2e7c-4705-8d94-53102ea8550f","condition":null,"expression":null}],"defaultValue":"false","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"BOOLEAN","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.active"}]}},{"type":"coerce","valueType":"BOOLEAN"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"51c7456a-dd1f-3dd7-b26b-419d10eb66a1","attributeDefinitionId":"9d722951-77a8-4ae6-94f9-6ced4adfee17"},{"class":"ConstantNode","id":"7a0aac99-7467-3c46-9ff9-4c4541fe0a7a","constant":"false"},{"class":"ComparisonNode","id":"3166a7c9-3954-346a-b08f-9bb3246f11b3","lhsInputNode":"51c7456a-dd1f-3dd7-b26b-419d10eb66a1","rhsInputNode":"7a0aac99-7467-3c46-9ff9-4c4541fe0a7a","operator":"EQUALS"},{"class":"RequestAxis","id":"301391c4-b512-38fa-a70c-ef17b12cb45f","type":"ACTION"},{"class":"ConstantNode","id":"94b387d7-1648-3bde-b86b-7e3463d196b5","constant":"inbound-DELETE"},{"class":"ComparisonNode","id":"34693c22-6e10-3e10-9fd4-323204b9ebf3","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"94b387d7-1648-3bde-b86b-7e3463d196b5","operator":"EQUALS"},{"class":"ConstantNode","id":"c0aeb1df-f692-387d-b4dd-af0c896ed794","constant":"inbound-GET"},{"class":"ComparisonNode","id":"2d9e2d63-4dc8-3743-b412-a3a8a035d3a5","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"c0aeb1df-f692-387d-b4dd-af0c896ed794","operator":"EQUALS"},{"class":"ConstantNode","id":"9cd7b67a-2e48-38b9-955b-698a2354bfd2","constant":"inbound-PATCH"},{"class":"ComparisonNode","id":"aa50126f-84c7-321f-9a19-deb6df64888f","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"9cd7b67a-2e48-38b9-955b-698a2354bfd2","operator":"EQUALS"},{"class":"ConstantNode","id":"cff3a038-c0cb-3a6a-9a32-38bfb38512ff","constant":"inbound-POST"},{"class":"ComparisonNode","id":"c921e8e7-5373-3b41-954d-28e7fc25a53d","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"cff3a038-c0cb-3a6a-9a32-38bfb38512ff","operator":"EQUALS"},{"class":"ConstantNode","id":"d5903fee-d9f5-3007-a95a-c8f2c5055a31","constant":"inbound-PUT"},{"class":"ComparisonNode","id":"8657091d-ece7-30e1-bec2-3668308cf88d","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"d5903fee-d9f5-3007-a95a-c8f2c5055a31","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"c7ba27cb-d807-3cee-83aa-153a1ff3cf85","inputNodes":["34693c22-6e10-3e10-9fd4-323204b9ebf3","2d9e2d63-4dc8-3743-b412-a3a8a035d3a5","aa50126f-84c7-321f-9a19-deb6df64888f","c921e8e7-5373-3b41-954d-28e7fc25a53d","8657091d-ece7-30e1-bec2-3668308cf88d"],"operator":"or"},{"class":"ConditionDefinition","id":"cd212c60-6cf3-4156-9c17-a32162fdda6a","name":"Any Inbound Request","condition":"c7ba27cb-d807-3cee-83aa-153a1ff3cf85","properties":{}},{"class":"ConditionReferenceNode","id":"74cd85f7-57cb-3f3a-8e4f-626b553db8dd","definitionId":"cd212c60-6cf3-4156-9c17-a32162fdda6a"},{"class":"ConstantNode","id":"ba2b381d-b5cd-3c6c-8a33-ead954a5dbbe","constant":"create"},{"class":"ComparisonNode","id":"f57613e0-ee23-3c70-a970-8f88ef9e5210","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"ba2b381d-b5cd-3c6c-8a33-ead954a5dbbe","operator":"EQUALS"},{"class":"ConstantNode","id":"467261b4-b9a2-338c-b54d-3a7747456c88","constant":"delete"},{"class":"ComparisonNode","id":"e99b4431-55b3-31ab-ae2a-d0e7e073314a","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"467261b4-b9a2-338c-b54d-3a7747456c88","operator":"EQUALS"},{"class":"ConstantNode","id":"5f307cc6-04a5-3f73-ad0f-e0a9164b8c81","constant":"modify"},{"class":"ComparisonNode","id":"a40fc8c5-d3e6-360e-9033-59b7e02c941e","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"5f307cc6-04a5-3f73-ad0f-e0a9164b8c81","operator":"EQUALS"},{"class":"ConstantNode","id":"26797050-df16-3fdb-91fc-4ffaad6c67e5","constant":"retrieve"},{"class":"ComparisonNode","id":"2281317d-0ce5-3717-9adb-0bd7eb6285c8","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"26797050-df16-3fdb-91fc-4ffaad6c67e5","operator":"EQUALS"},{"class":"ConstantNode","id":"2f37a53c-f79b-3161-b79f-bd24c0c0f8c8","constant":"search"},{"class":"ComparisonNode","id":"ea899a06-d551-3e36-b9eb-979c7934ed16","lhsInputNode":"301391c4-b512-38fa-a70c-ef17b12cb45f","rhsInputNode":"2f37a53c-f79b-3161-b79f-bd24c0c0f8c8","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"3881ce34-607c-38ef-9c16-f68d0aed77e9","inputNodes":["f57613e0-ee23-3c70-a970-8f88ef9e5210","e99b4431-55b3-31ab-ae2a-d0e7e073314a","a40fc8c5-d3e6-360e-9033-59b7e02c941e","2281317d-0ce5-3717-9adb-0bd7eb6285c8","ea899a06-d551-3e36-b9eb-979c7934ed16"],"operator":"or"},{"class":"ConditionDefinition","id":"5d9208da-b746-4b0d-b741-b6eabc66e71c","name":"Any SCIM or OpenBanking Request","condition":"3881ce34-607c-38ef-9c16-f68d0aed77e9","properties":{}},{"class":"ConditionReferenceNode","id":"65f8f6cf-72b0-3424-a68e-2ce1e23038f9","definitionId":"5d9208da-b746-4b0d-b741-b6eabc66e71c"},{"class":"BooleanLogicNode","id":"4f93cda7-0e23-3ced-a02c-e9f99330b625","inputNodes":["74cd85f7-57cb-3f3a-8e4f-626b553db8dd","65f8f6cf-72b0-3424-a68e-2ce1e23038f9"],"operator":"or"},{"class":"BooleanLogicNode","id":"638746e0-7afe-30a6-b9b0-399abb7f51dd","inputNodes":["3166a7c9-3954-346a-b08f-9bb3246f11b3","4f93cda7-0e23-3ced-a02c-e9f99330b625"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","name":"Access token is inactive","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"7c71ab87-a0c9-3996-9014-d23ed7191bde","metadataId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","effect":"DENY","inputNode":"638746e0-7afe-30a6-b9b0-399abb7f51dd"},{"class":"StatementNode","id":"ac221641-cea0-3e0b-9fb1-1092c7200a8b","inputNode":"7c71ab87-a0c9-3996-9014-d23ed7191bde","metadataId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","statements":[]},{"class":"TargetMatchNode","id":"0834611c-303f-3b0a-b522-15cdca154804","inputNode":"ac221641-cea0-3e0b-9fb1-1092c7200a8b","metadataId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","targets":[]},{"class":"Metadata","originType":"Policy","originId":"69d82f74-5561-4f91-b238-0f8bbac97532","name":"Token Validation","properties":{},"disabled":false,"repetitionSettings":null},{"class":"AlwaysTrueNode","id":"4c526b0b-d781-357a-a6ef-0cd18062e00d"},{"class":"CombinedDecisionNode","id":"ed47d4a1-e4f7-3baf-9030-9fcb9557b5e3","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["0834611c-303f-3b0a-b522-15cdca154804"],"inputNodeWeights":[100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"69d82f74-5561-4f91-b238-0f8bbac97532"},{"class":"StatementTemplate","id":"cde26a38-2035-4385-bbfe-159ee1822976","name":"Invalid Token","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"status\":401, \"message\": \"invalid_token\", \"detail\":\"Access token is expired or otherwise invalid\"}"}]},"obligatory":true,"appliesTo":"DENY","attributes":{},"services":{}},{"class":"StatementNode","id":"b6dca37c-f025-39e5-a19c-5e6227813749","inputNode":"ed47d4a1-e4f7-3baf-9030-9fcb9557b5e3","metadataId":"69d82f74-5561-4f91-b238-0f8bbac97532","statements":["cde26a38-2035-4385-bbfe-159ee1822976"]},{"class":"TargetMatchNode","id":"f768a29c-35e8-3918-af60-e0031c20c41a","inputNode":"b6dca37c-f025-39e5-a19c-5e6227813749","metadataId":"69d82f74-5561-4f91-b238-0f8bbac97532","targets":[]},{"class":"ConstantNode","id":"c29c351a-9075-3cd4-b783-51df27ef3b34","constant":"true"},{"class":"ComparisonNode","id":"185423ca-58d1-38c4-89df-a20a12428c37","lhsInputNode":"51c7456a-dd1f-3dd7-b26b-419d10eb66a1","rhsInputNode":"c29c351a-9075-3cd4-b783-51df27ef3b34","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"e01fa5a6-7a09-3ecf-be1a-2d5d1de9a7d4","inputNodes":["185423ca-58d1-38c4-89df-a20a12428c37"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"81597501-fef1-4345-a351-626ec9364575","name":"Token is inactive","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"c77b06ee-9037-35cf-b989-97a005c9da30","metadataId":"81597501-fef1-4345-a351-626ec9364575","effect":"DENY","inputNode":"e01fa5a6-7a09-3ecf-be1a-2d5d1de9a7d4"},{"class":"StatementNode","id":"36ca8506-f60d-3cc3-b9ca-b5b967d46c9f","inputNode":"c77b06ee-9037-35cf-b989-97a005c9da30","metadataId":"81597501-fef1-4345-a351-626ec9364575","statements":[]},{"class":"TargetMatchNode","id":"17e26d49-e004-3fb2-ba1b-7128d0473cc5","inputNode":"36ca8506-f60d-3cc3-b9ca-b5b967d46c9f","metadataId":"81597501-fef1-4345-a351-626ec9364575","targets":[]},{"class":"AttributeDefinition","id":"447bf9bf-0cf0-4b62-9b55-58fc9f606f49","name":"HttpRequest.AccessToken.scope","resolvers":[{"class":"attribute","attributeDefinitionId":"8e568465-2e7c-4705-8d94-53102ea8550f","condition":null,"expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"scope"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","attributeDefinitionId":"447bf9bf-0cf0-4b62-9b55-58fc9f606f49"},{"class":"ConstantNode","id":"1097f0bb-2044-3357-b688-a75aa6d5272c","constant":"urn:pingdatagovernance:pdp"},{"class":"ComparisonNode","id":"61e47392-dfb5-3894-b2ef-71bd280d219a","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"1097f0bb-2044-3357-b688-a75aa6d5272c","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"a251290f-5aa4-340f-95bb-4393ba1bea42","inputNodes":["61e47392-dfb5-3894-b2ef-71bd280d219a"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","name":"Token does not contain PDP scope","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"e7317138-050e-32bf-b7f7-5cb8ac328b12","metadataId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","effect":"DENY","inputNode":"a251290f-5aa4-340f-95bb-4393ba1bea42"},{"class":"StatementNode","id":"bea2307f-1a05-33fd-a8ec-8b212adcda4b","inputNode":"e7317138-050e-32bf-b7f7-5cb8ac328b12","metadataId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","statements":[]},{"class":"TargetMatchNode","id":"74362df2-61a0-3218-b75c-a89d337cf26a","inputNode":"bea2307f-1a05-33fd-a8ec-8b212adcda4b","metadataId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","targets":[]},{"class":"Metadata","originType":"Policy","originId":"e792b7ec-331d-422e-8aec-d5ff589889aa","name":"Token Authorization","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"a6623ab4-91b0-303b-ba9b-13505e0065e5","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["17e26d49-e004-3fb2-ba1b-7128d0473cc5","74362df2-61a0-3218-b75c-a89d337cf26a"],"inputNodeWeights":[100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"e792b7ec-331d-422e-8aec-d5ff589889aa"},{"class":"StatementNode","id":"c2eb6d9a-3b94-3461-bc1d-669a4fe6fe06","inputNode":"a6623ab4-91b0-303b-ba9b-13505e0065e5","metadataId":"e792b7ec-331d-422e-8aec-d5ff589889aa","statements":["cde26a38-2035-4385-bbfe-159ee1822976"]},{"class":"Target","id":"ba86bc60-6ae8-4e14-a4b7-ba6c5e3a463f","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["authorize"]},{"class":"TargetMatchNode","id":"8a114898-eda2-379e-8813-5fc18e31916e","inputNode":"c2eb6d9a-3b94-3461-bc1d-669a4fe6fe06","metadataId":"e792b7ec-331d-422e-8aec-d5ff589889aa","targets":["ba86bc60-6ae8-4e14-a4b7-ba6c5e3a463f"]},{"class":"Metadata","originType":"PolicySet","originId":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5","name":"PDP API Endpoint Policies","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"7d5d1ddb-025d-3ed3-b945-801d19695e79","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["8a114898-eda2-379e-8813-5fc18e31916e"],"inputNodeWeights":[100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5"},{"class":"StatementNode","id":"d66641ce-2e99-3f4b-8ed8-c98faa7cb9b4","inputNode":"7d5d1ddb-025d-3ed3-b945-801d19695e79","metadataId":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5","statements":[]},{"class":"Target","id":"e41403c2-589e-4981-a088-3e004aef4d59","name":"Inline target","domains":[],"services":["PDP"],"identityClassIds":[],"actions":[]},{"class":"TargetMatchNode","id":"c32ba35c-4fc5-3b62-b5f7-5c918a9efab9","inputNode":"d66641ce-2e99-3f4b-8ed8-c98faa7cb9b4","metadataId":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5","targets":["e41403c2-589e-4981-a088-3e004aef4d59"]},{"class":"AttributeDefinition","id":"ee41314a-eb03-4a6e-9561-82ff8dd13865","name":"HttpRequest.AccessToken.subject","resolvers":[{"class":"attribute","attributeDefinitionId":"8e568465-2e7c-4705-8d94-53102ea8550f","condition":null,"expression":null}],"defaultValue":"_null","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"sub"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"c2284af5-caa5-48b1-b5a6-418cec688cb3","name":"CDRAttributes.ConsentAPIToken","resolvers":[],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"JSON","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"'{\"sub\":\"' + "},{"@class":"Interpolation","hole":"ee41314a-eb03-4a6e-9561-82ff8dd13865","safelyInterpolatable":false},{"@class":"FixedTemplate","x":" +'\",\"active\":true,\"scope\":\"consent\"}'"}]}},{"type":"coerce","valueType":"JSON"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"b8e0627f-47a0-49c8-9fbc-256735322452","name":"Configuration.PINGDIRECTORY_HOSTNAME","resolvers":[{"class":"configuration","key":"PINGDIRECTORY_HOSTNAME","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"833e95ed-21f1-4c25-ab56-6af7fd362a3e","name":"HttpRequest.AccessToken.cdr_arrangement_id","resolvers":[{"class":"attribute","attributeDefinitionId":"8e568465-2e7c-4705-8d94-53102ea8550f","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":"_null","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"cdr_arrangement_id"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"ServiceDefinition","id":"5dceb2e8-19cc-45a0-8df0-a78eb66e1ce2","name":"Consumer Data Rights.Check Consent API","serviceSettings":{"class":"rest","urlFormat":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"https://"},{"@class":"Interpolation","hole":"b8e0627f-47a0-49c8-9fbc-256735322452","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"/consent/v1/consents/"},{"@class":"Interpolation","hole":"833e95ed-21f1-4c25-ab56-6af7fd362a3e","safelyInterpolatable":false}]},"body":{"@class":"JoiningTemplate","components":[]},"verb":"GET","contentType":"application/json","headers":[],"authenticationType":"OAUTH2","authenticationAttributes":{"@class":"MapTemplate","map":{"token":{"@class":"Interpolation","hole":"c2284af5-caa5-48b1-b5a6-418cec688cb3","safelyInterpolatable":false}}},"tlsSettings":{"@class":"TlsSettings","tlsValidationType":"NONE","tlsTruststore":null,"mtlsValidation":false,"mtlsKeystore":null}},"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"serviceResilience":{"maximumConcurrentRequests":2,"maximumRequestsPerSecond":1000000.0,"timeoutMilliseconds":2000,"maximumRetryCount":2,"holdoffMilliseconds":1000,"retryStrategy":"FIXED","retryJitter":10.0},"secret":false},{"class":"AttributeDefinition","id":"2ade78e4-0f5e-4cd8-b861-90c4b9c20122","name":"CDRAttributes.consent_record","resolvers":[{"class":"service","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null,"serviceDefinitionId":"5dceb2e8-19cc-45a0-8df0-a78eb66e1ce2"}],"defaultValue":null,"cacheScopeAttributeId":"8e568465-2e7c-4705-8d94-53102ea8550f","cacheTimeToLive":10,"cacheStrategy":"SCOPE_EXPIRE_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"JSON","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"38acbb0b-d93b-4274-a2ec-8491e44d8eb7","name":"CDRAttributes.consent_record.expires","resolvers":[{"class":"attribute","attributeDefinitionId":"2ade78e4-0f5e-4cd8-b861-90c4b9c20122","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"NUMBER","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.consentContext.expires"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"dcc8c3b0-12c9-30e4-bd6e-d252ae5dc46d","attributeDefinitionId":"38acbb0b-d93b-4274-a2ec-8491e44d8eb7"},{"class":"AttributeDefinition","id":"5b6679cb-5f49-4911-b87b-5eb743d557f2","name":"CDRAttributes.current_time","resolvers":[],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"new java.util.Date().getTime()"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"6f941551-a97f-33cd-8de3-8cc49915d635","attributeDefinitionId":"5b6679cb-5f49-4911-b87b-5eb743d557f2"},{"class":"ComparisonNode","id":"a5afdcb4-4ea8-34e1-b8b5-37e87ade32b4","lhsInputNode":"dcc8c3b0-12c9-30e4-bd6e-d252ae5dc46d","rhsInputNode":"6f941551-a97f-33cd-8de3-8cc49915d635","operator":"GREATER_THAN"},{"class":"BooleanLogicNode","id":"a044c103-830d-3e03-8c99-1d6f14d647ba","inputNodes":["a5afdcb4-4ea8-34e1-b8b5-37e87ade32b4"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"0af24073-8ea1-4509-8e2d-6dac28cecfec","name":"Check Consent Expiry","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"09633f14-0e95-39d8-a69f-04e3c204d922","metadataId":"0af24073-8ea1-4509-8e2d-6dac28cecfec","effect":"PERMIT","inputNode":"a044c103-830d-3e03-8c99-1d6f14d647ba"},{"class":"StatementNode","id":"3378f8a9-4f31-3b20-833a-c97ee1c50dd4","inputNode":"09633f14-0e95-39d8-a69f-04e3c204d922","metadataId":"0af24073-8ea1-4509-8e2d-6dac28cecfec","statements":[]},{"class":"TargetMatchNode","id":"6167fcda-0c18-3a1e-88a1-f8e7f1357029","inputNode":"3378f8a9-4f31-3b20-833a-c97ee1c50dd4","metadataId":"0af24073-8ea1-4509-8e2d-6dac28cecfec","targets":[]},{"class":"AttributeDefinition","id":"5144cfde-dbf6-41a1-aa4d-c39199dc986c","name":"CDRAttributes.requested_scope","resolvers":[{"class":"attribute","attributeDefinitionId":"447bf9bf-0cf0-4b62-9b55-58fc9f606f49","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"1e82965d-0d18-4809-ae2a-f282d9609526","name":"CDRAttributes.consent_record.approved_scopes","resolvers":[{"class":"attribute","attributeDefinitionId":"2ade78e4-0f5e-4cd8-b861-90c4b9c20122","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.data.APPROVED_SCOPES"}]}},{"type":"SpEL","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this.replace(\"[\",\"\").replace(\"]\",\"\").replace('\"',\"\")"}]}},{"type":"SpEL","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"T(org.springframework.util.CollectionUtils).arrayToList(#this.split(\" \"))"}]}}]},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"0a862c8b-b70f-4ef6-bd4b-99c4448aaf52","name":"CDRAttributes.compare_scope","resolvers":[{"class":"attribute","attributeDefinitionId":"5144cfde-dbf6-41a1-aa4d-c39199dc986c","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this"}]}},{"type":"SpEL","id":null,"name":null,"valueType":"BOOLEAN","expression":{"@class":"JoiningTemplate","components":[{"@class":"Interpolation","hole":"1e82965d-0d18-4809-ae2a-f282d9609526","safelyInterpolatable":false},{"@class":"FixedTemplate","x":".containsAll(#this) and #this.containsAll("},{"@class":"Interpolation","hole":"1e82965d-0d18-4809-ae2a-f282d9609526","safelyInterpolatable":false},{"@class":"FixedTemplate","x":")"}]}}]},{"type":"coerce","valueType":"BOOLEAN"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"b37d5eed-1bed-3448-bce3-41675aac65c8","attributeDefinitionId":"0a862c8b-b70f-4ef6-bd4b-99c4448aaf52"},{"class":"ComparisonNode","id":"3e8e378e-3402-3946-9a91-8c3a443f2d6e","lhsInputNode":"b37d5eed-1bed-3448-bce3-41675aac65c8","rhsInputNode":"c29c351a-9075-3cd4-b783-51df27ef3b34","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"336ae5ac-1cfb-37a5-8590-259f135d2fb7","inputNodes":["3e8e378e-3402-3946-9a91-8c3a443f2d6e"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"ccca7c0f-f754-40d1-8986-02696d4e04ee","name":"Check Consent Scope","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"a29683d0-cfcb-370a-9852-df083b17d619","metadataId":"ccca7c0f-f754-40d1-8986-02696d4e04ee","effect":"PERMIT","inputNode":"336ae5ac-1cfb-37a5-8590-259f135d2fb7"},{"class":"StatementNode","id":"b3788a3d-33c5-34ae-a4a7-a8164f9ca47e","inputNode":"a29683d0-cfcb-370a-9852-df083b17d619","metadataId":"ccca7c0f-f754-40d1-8986-02696d4e04ee","statements":[]},{"class":"TargetMatchNode","id":"3edd7459-a016-3302-b0ed-7c1d3257c876","inputNode":"b3788a3d-33c5-34ae-a4a7-a8164f9ca47e","metadataId":"ccca7c0f-f754-40d1-8986-02696d4e04ee","targets":[]},{"class":"AttributeDefinition","id":"4ae40ab7-33ed-4fb1-9dc0-d0c040b76596","name":"CDRAttributes.consent_record.status","resolvers":[{"class":"attribute","attributeDefinitionId":"2ade78e4-0f5e-4cd8-b861-90c4b9c20122","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.status"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"f0be33a8-46f0-3a74-8cac-dc993b23c40f","attributeDefinitionId":"4ae40ab7-33ed-4fb1-9dc0-d0c040b76596"},{"class":"ConstantNode","id":"12284694-c724-3eb5-8bc9-9996c3a12ea1","constant":"accepted"},{"class":"ComparisonNode","id":"e94b68cb-a2d8-3bf3-82fc-ca0e1aa0038a","lhsInputNode":"f0be33a8-46f0-3a74-8cac-dc993b23c40f","rhsInputNode":"12284694-c724-3eb5-8bc9-9996c3a12ea1","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"0811fd96-abce-3729-8716-32551de832d1","inputNodes":["e94b68cb-a2d8-3bf3-82fc-ca0e1aa0038a"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"ed8b2d43-7eaa-44ce-baf1-f4e509d98a7d","name":"Check Consent Status","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"6db355e4-1fc9-334a-8e9a-65d35280daab","metadataId":"ed8b2d43-7eaa-44ce-baf1-f4e509d98a7d","effect":"DENY","inputNode":"0811fd96-abce-3729-8716-32551de832d1"},{"class":"StatementNode","id":"684ffb3e-639f-3620-a88f-ef3d0c6b7058","inputNode":"6db355e4-1fc9-334a-8e9a-65d35280daab","metadataId":"ed8b2d43-7eaa-44ce-baf1-f4e509d98a7d","statements":[]},{"class":"TargetMatchNode","id":"3cb1f16b-a8a3-369e-9c49-0882933ad35b","inputNode":"684ffb3e-639f-3620-a88f-ef3d0c6b7058","metadataId":"ed8b2d43-7eaa-44ce-baf1-f4e509d98a7d","targets":[]},{"class":"Metadata","originType":"Policy","originId":"3dc15f7c-9a55-4418-a7f6-30d75db0c41e","name":"Check Consent","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"5d9d26b8-2b3e-3cd0-b4e0-df21d78f0646","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["6167fcda-0c18-3a1e-88a1-f8e7f1357029","3edd7459-a016-3302-b0ed-7c1d3257c876","3cb1f16b-a8a3-369e-9c49-0882933ad35b"],"inputNodeWeights":[100,100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"3dc15f7c-9a55-4418-a7f6-30d75db0c41e"},{"class":"AttributeDefinition","id":"7b1a229a-74e7-45c1-980c-8bd7e235a35a","name":"CDRAttributes.consent_record.approved_accounts","resolvers":[{"class":"attribute","attributeDefinitionId":"2ade78e4-0f5e-4cd8-b861-90c4b9c20122","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.data.SELECTED_ACCOUNTS[0]"}]}},{"type":"SpEL","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this.replace(\"[\",\"\").replace(\"]\",\"\").replace('\"',\"\")"}]}}]},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"StatementTemplate","id":"cb34f7e4-80e5-4afc-8b52-a69058982182","name":"Add X-Accounts","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"modify-headers"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"X-ACCOUNTS\": \""},{"@class":"Interpolation","hole":"7b1a229a-74e7-45c1-980c-8bd7e235a35a","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"\"}"}]},"obligatory":true,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementTemplate","id":"cb9a9c92-e1d8-44ae-a117-50a87cf9388d","name":"Add X-USER","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"modify-headers"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"X-USER\": \""},{"@class":"Interpolation","hole":"ee41314a-eb03-4a6e-9561-82ff8dd13865","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"\"}"}]},"obligatory":true,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementTemplate","id":"7da3a5e0-a4c9-486f-8ea7-a7e8413bb0ea","name":"Consent Not Active","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{ \"status\": 403, \"message\": \"consent_inactive\", \"detail\":\"Consent is not active\"}"}]},"obligatory":false,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"StatementNode","id":"8a7fae7c-272c-3c67-99bd-f41d01f51366","inputNode":"5d9d26b8-2b3e-3cd0-b4e0-df21d78f0646","metadataId":"3dc15f7c-9a55-4418-a7f6-30d75db0c41e","statements":["cb34f7e4-80e5-4afc-8b52-a69058982182","cb9a9c92-e1d8-44ae-a117-50a87cf9388d","7da3a5e0-a4c9-486f-8ea7-a7e8413bb0ea"]},{"class":"TargetMatchNode","id":"96f5a8eb-cce8-332a-a9be-3349326a75c3","inputNode":"8a7fae7c-272c-3c67-99bd-f41d01f51366","metadataId":"3dc15f7c-9a55-4418-a7f6-30d75db0c41e","targets":[]},{"class":"AttributeNode","id":"6d339b70-c312-3b3e-b8e7-b044d15d0680","attributeDefinitionId":"7b1a229a-74e7-45c1-980c-8bd7e235a35a"},{"class":"AttributeDefinition","id":"262987d9-0d9c-4a05-b28a-fb53a2a6521e","name":"AccountResponse","resolvers":[],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeDefinition","id":"1f30e944-4d0a-43d0-a5df-3b585bb0018a","name":"AccountResponse.AccountId","resolvers":[{"class":"attribute","attributeDefinitionId":"262987d9-0d9c-4a05-b28a-fb53a2a6521e","condition":"4c526b0b-d781-357a-a6ef-0cd18062e00d","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"SpEL","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"#this"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"eb37f5bd-760e-377e-b0d2-52b2a2531bcb","attributeDefinitionId":"1f30e944-4d0a-43d0-a5df-3b585bb0018a"},{"class":"ComparisonNode","id":"3ab09371-084b-35ed-9017-8602b87ed3e2","lhsInputNode":"6d339b70-c312-3b3e-b8e7-b044d15d0680","rhsInputNode":"eb37f5bd-760e-377e-b0d2-52b2a2531bcb","operator":"CONTAINS"},{"class":"BooleanLogicNode","id":"3c53d444-4924-3ea5-82e8-2f982cd1b993","inputNodes":["3ab09371-084b-35ed-9017-8602b87ed3e2"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"9a8569c9-9b4d-423f-899c-d6728e19d8c6","name":"Check Account has been Consented","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"f2a3829e-9abd-3b66-96e6-a2810ae77ab2","metadataId":"9a8569c9-9b4d-423f-899c-d6728e19d8c6","effect":"PERMIT","inputNode":"3c53d444-4924-3ea5-82e8-2f982cd1b993"},{"class":"StatementNode","id":"df9ccb66-13a0-3345-8963-d4880c070311","inputNode":"f2a3829e-9abd-3b66-96e6-a2810ae77ab2","metadataId":"9a8569c9-9b4d-423f-899c-d6728e19d8c6","statements":[]},{"class":"TargetMatchNode","id":"3817acb6-259b-3803-8606-c9f51b751ad2","inputNode":"df9ccb66-13a0-3345-8963-d4880c070311","metadataId":"9a8569c9-9b4d-423f-899c-d6728e19d8c6","targets":[]},{"class":"Metadata","originType":"Policy","originId":"d993e4db-c9c1-49f0-a75d-ea923dc7089c","name":"Check AccountId","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"cf5b7a91-a946-3ecd-8303-bfe80360a32e","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["3817acb6-259b-3803-8606-c9f51b751ad2"],"inputNodeWeights":[100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"d993e4db-c9c1-49f0-a75d-ea923dc7089c"},{"class":"StatementNode","id":"6120b07e-2173-37dd-931d-807b8fd493fa","inputNode":"cf5b7a91-a946-3ecd-8303-bfe80360a32e","metadataId":"d993e4db-c9c1-49f0-a75d-ea923dc7089c","statements":["7da3a5e0-a4c9-486f-8ea7-a7e8413bb0ea"]},{"class":"Target","id":"4f665ff8-27f5-42bc-9c7e-cc79dcb4ae61","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["cdr-account-balance-request"]},{"class":"TargetMatchNode","id":"9ce6811e-0777-33c6-b112-197cf38d8772","inputNode":"6120b07e-2173-37dd-931d-807b8fd493fa","metadataId":"d993e4db-c9c1-49f0-a75d-ea923dc7089c","targets":["4f665ff8-27f5-42bc-9c7e-cc79dcb4ae61"]},{"class":"AttributeDefinition","id":"70f94c27-358f-4a20-a968-43799acd3d1b","name":"HttpRequest.ResourcePath","resolvers":[{"class":"attribute","attributeDefinitionId":"a007b39b-33ca-436c-977f-21a4831daa96","condition":null,"expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"ResourcePath"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"7845fbb5-a337-349f-bb06-3e216783f5a6","attributeDefinitionId":"70f94c27-358f-4a20-a968-43799acd3d1b"},{"class":"ConstantNode","id":"f33c4b58-1c95-3fa1-8b4a-eafad0d5d760","constant":"accounts"},{"class":"ComparisonNode","id":"fdeb35ca-ce23-3085-9246-2aedcbf22d6b","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"f33c4b58-1c95-3fa1-8b4a-eafad0d5d760","operator":"EQUALS"},{"class":"ConstantNode","id":"f8234bc9-693f-3b06-92ca-8c8b957e7b58","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}/balance"},{"class":"ComparisonNode","id":"bc15077d-afee-31ed-9b73-512b2f00031c","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"f8234bc9-693f-3b06-92ca-8c8b957e7b58","operator":"REGULAR_EXPRESSION"},{"class":"ConstantNode","id":"3692e82d-c9a2-3833-93a1-65497ff1f022","constant":"accounts/balances"},{"class":"ComparisonNode","id":"ab5701be-79da-3a0d-a134-2c356d518bcd","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"3692e82d-c9a2-3833-93a1-65497ff1f022","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"d520951c-0771-3b4b-be0d-066f6c36182d","inputNodes":["fdeb35ca-ce23-3085-9246-2aedcbf22d6b","bc15077d-afee-31ed-9b73-512b2f00031c","ab5701be-79da-3a0d-a134-2c356d518bcd"],"operator":"or"},{"class":"AttributeDefinition","id":"4d7994a5-a83c-4251-87dd-9320535d001d","name":"CDRAttributes.CDRScope.AccountsRead","resolvers":[],"defaultValue":"bank:accounts.basic:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"53372c87-8ce6-3823-b63a-1f5fedd96dc0","attributeDefinitionId":"4d7994a5-a83c-4251-87dd-9320535d001d"},{"class":"ComparisonNode","id":"aea2f7f0-5bb6-3244-b5a1-d877b0c3cc94","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"53372c87-8ce6-3823-b63a-1f5fedd96dc0","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"21a9118c-cf44-34d6-82f6-92a5cbc14509","inputNodes":["d520951c-0771-3b4b-be0d-066f6c36182d","aea2f7f0-5bb6-3244-b5a1-d877b0c3cc94"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"927132ad-47d7-46a3-8732-a7a35d5f1ede","name":"Check Banking Account URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"345c0728-62c6-3b20-8e48-d34a553f0dbe","metadataId":"927132ad-47d7-46a3-8732-a7a35d5f1ede","effect":"DENY","inputNode":"21a9118c-cf44-34d6-82f6-92a5cbc14509"},{"class":"StatementNode","id":"7a2c913c-5b8b-397b-96a8-5b52b12b7e04","inputNode":"345c0728-62c6-3b20-8e48-d34a553f0dbe","metadataId":"927132ad-47d7-46a3-8732-a7a35d5f1ede","statements":[]},{"class":"TargetMatchNode","id":"9a1713ea-b1dd-35a3-8ecd-fa27b8794bde","inputNode":"7a2c913c-5b8b-397b-96a8-5b52b12b7e04","metadataId":"927132ad-47d7-46a3-8732-a7a35d5f1ede","targets":[]},{"class":"ConstantNode","id":"00f6f7bb-63be-3d46-88e9-c8498d119396","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}"},{"class":"ComparisonNode","id":"296da4c3-bbf4-37c3-800e-42b717314a10","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"00f6f7bb-63be-3d46-88e9-c8498d119396","operator":"REGULAR_EXPRESSION"},{"class":"AttributeDefinition","id":"7396cbde-586b-4426-afc7-0091b95d77d2","name":"CDRAttributes.CDRScope.AccountsDetailRead","resolvers":[],"defaultValue":"bank:accounts.detail:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"d81c64f3-a946-3081-b640-07334d4bd13c","attributeDefinitionId":"7396cbde-586b-4426-afc7-0091b95d77d2"},{"class":"ComparisonNode","id":"2f95178f-3ba0-335d-98d8-611d5f5de185","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"d81c64f3-a946-3081-b640-07334d4bd13c","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"65ff1367-3b00-31b6-9cee-b48b1b9e4d32","inputNodes":["296da4c3-bbf4-37c3-800e-42b717314a10","2f95178f-3ba0-335d-98d8-611d5f5de185"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"0b293278-f7bf-41a6-a6a7-5df87aad192a","name":"Check Detail Banking Account URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"f645f1f0-e80e-3116-8114-24ed4e966b04","metadataId":"0b293278-f7bf-41a6-a6a7-5df87aad192a","effect":"DENY","inputNode":"65ff1367-3b00-31b6-9cee-b48b1b9e4d32"},{"class":"StatementNode","id":"2df952c3-fbc5-32f1-9d59-ca6dd58f04f4","inputNode":"f645f1f0-e80e-3116-8114-24ed4e966b04","metadataId":"0b293278-f7bf-41a6-a6a7-5df87aad192a","statements":[]},{"class":"TargetMatchNode","id":"11d32155-d8c7-35dc-ace1-68e335954929","inputNode":"2df952c3-fbc5-32f1-9d59-ca6dd58f04f4","metadataId":"0b293278-f7bf-41a6-a6a7-5df87aad192a","targets":[]},{"class":"ConstantNode","id":"f62fc25a-afe8-3e5d-8e3c-1b3815b0cc21","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}/transactions"},{"class":"ComparisonNode","id":"f741cd3b-46b3-3a45-b079-a19bd40b3af1","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"f62fc25a-afe8-3e5d-8e3c-1b3815b0cc21","operator":"REGULAR_EXPRESSION"},{"class":"ConstantNode","id":"f8847cfd-ea4b-34e3-9549-254a5257f36b","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}/transactions/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}"},{"class":"ComparisonNode","id":"91983668-6017-3081-90a0-ab8564ec63d3","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"f8847cfd-ea4b-34e3-9549-254a5257f36b","operator":"REGULAR_EXPRESSION"},{"class":"BooleanLogicNode","id":"9662e923-ac8f-3ad7-a57c-3581a489d084","inputNodes":["f741cd3b-46b3-3a45-b079-a19bd40b3af1","91983668-6017-3081-90a0-ab8564ec63d3"],"operator":"or"},{"class":"AttributeDefinition","id":"5b1fc7dc-5a88-4404-bccf-24cc7634adc7","name":"CDRAttributes.CDRScope.TransactionsRead","resolvers":[],"defaultValue":"bank:transactions:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"3c1c7d76-212e-3c49-815b-551e4aa046a1","attributeDefinitionId":"5b1fc7dc-5a88-4404-bccf-24cc7634adc7"},{"class":"ComparisonNode","id":"3fce824c-b1b5-3e87-880d-bea6ca98ac8e","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"3c1c7d76-212e-3c49-815b-551e4aa046a1","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"0e15c0a2-dee8-3827-a4db-2d4b6e57f1bc","inputNodes":["9662e923-ac8f-3ad7-a57c-3581a489d084","3fce824c-b1b5-3e87-880d-bea6ca98ac8e"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"ef121ad2-6f7d-40dc-8486-8966685bda61","name":"Check Transaction URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"6d9ee8d4-ef6f-3622-8bc0-a04aadccb9b3","metadataId":"ef121ad2-6f7d-40dc-8486-8966685bda61","effect":"DENY","inputNode":"0e15c0a2-dee8-3827-a4db-2d4b6e57f1bc"},{"class":"StatementNode","id":"a7fb3799-c27a-3428-839d-f1ee2c7e0784","inputNode":"6d9ee8d4-ef6f-3622-8bc0-a04aadccb9b3","metadataId":"ef121ad2-6f7d-40dc-8486-8966685bda61","statements":[]},{"class":"TargetMatchNode","id":"3a47f337-243b-3eb4-8a56-485f5fe3fe2e","inputNode":"a7fb3799-c27a-3428-839d-f1ee2c7e0784","metadataId":"ef121ad2-6f7d-40dc-8486-8966685bda61","targets":[]},{"class":"ConstantNode","id":"5ea32cc0-59a7-3cb7-966a-22a9952b78b9","constant":"accounts/direct-debits"},{"class":"ComparisonNode","id":"2c988de7-1855-3ffe-bc07-f9fa51040aac","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"5ea32cc0-59a7-3cb7-966a-22a9952b78b9","operator":"EQUALS"},{"class":"ConstantNode","id":"25b7f50f-81d9-380c-9901-e14e4f190049","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}/direct-debits"},{"class":"ComparisonNode","id":"6c368a90-2463-3393-a21a-265b74c6981f","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"25b7f50f-81d9-380c-9901-e14e4f190049","operator":"REGULAR_EXPRESSION"},{"class":"ConstantNode","id":"9efdb0ff-c520-3401-bac9-24945a4e57a3","constant":"payments/scheduled"},{"class":"ComparisonNode","id":"88d1a8ef-22dd-3608-a816-6acdd64a3c89","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"9efdb0ff-c520-3401-bac9-24945a4e57a3","operator":"EQUALS"},{"class":"ConstantNode","id":"71b87474-a146-3452-a9fe-c73e02db3982","constant":"accounts/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}/payments/scheduled"},{"class":"ComparisonNode","id":"de86a812-f104-3299-971a-ecafcc812d01","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"71b87474-a146-3452-a9fe-c73e02db3982","operator":"REGULAR_EXPRESSION"},{"class":"BooleanLogicNode","id":"ea48b331-4b5e-3b42-911e-704ffacc362c","inputNodes":["2c988de7-1855-3ffe-bc07-f9fa51040aac","6c368a90-2463-3393-a21a-265b74c6981f","88d1a8ef-22dd-3608-a816-6acdd64a3c89","de86a812-f104-3299-971a-ecafcc812d01"],"operator":"or"},{"class":"AttributeDefinition","id":"649be381-0ef5-4c67-a24d-d5c78f87f297","name":"CDRAttributes.CDRScope.RegularPaymentsRead","resolvers":[],"defaultValue":"bank:regular_payments:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"9788e892-d3a6-3654-ba42-f147bca777f7","attributeDefinitionId":"649be381-0ef5-4c67-a24d-d5c78f87f297"},{"class":"ComparisonNode","id":"7c0cd667-1e84-33f1-8f0e-824bed5a56a9","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"9788e892-d3a6-3654-ba42-f147bca777f7","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"b8f86590-312d-34ef-a8b7-396eb05b6c00","inputNodes":["ea48b331-4b5e-3b42-911e-704ffacc362c","7c0cd667-1e84-33f1-8f0e-824bed5a56a9"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"fb725696-5ff8-40fc-ac54-23d1ada9309a","name":"Check Direct Debit and Schedule URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"8e2929ec-7184-3695-b5b8-c0af3499d28e","metadataId":"fb725696-5ff8-40fc-ac54-23d1ada9309a","effect":"DENY","inputNode":"b8f86590-312d-34ef-a8b7-396eb05b6c00"},{"class":"StatementNode","id":"f05cc12e-d5dc-311f-9abe-8acdfe99161c","inputNode":"8e2929ec-7184-3695-b5b8-c0af3499d28e","metadataId":"fb725696-5ff8-40fc-ac54-23d1ada9309a","statements":[]},{"class":"TargetMatchNode","id":"b584e82b-2ee2-31c6-953f-e640a6e559a3","inputNode":"f05cc12e-d5dc-311f-9abe-8acdfe99161c","metadataId":"fb725696-5ff8-40fc-ac54-23d1ada9309a","targets":[]},{"class":"ConstantNode","id":"7f92a5a2-d97d-3e75-9f84-e21c0781d9d4","constant":"payees"},{"class":"ComparisonNode","id":"e6edd688-32b2-3aed-9dae-0c194a1f2090","lhsInputNode":"7845fbb5-a337-349f-bb06-3e216783f5a6","rhsInputNode":"7f92a5a2-d97d-3e75-9f84-e21c0781d9d4","operator":"STARTS_WITH"},{"class":"BooleanLogicNode","id":"37715648-a590-38f9-9167-06d11663051e","inputNodes":["e6edd688-32b2-3aed-9dae-0c194a1f2090"],"operator":"or"},{"class":"AttributeDefinition","id":"cd89a863-3a7e-44d5-a344-baecbcbf13f6","name":"CDRAttributes.CDRScope.PayeesRead","resolvers":[],"defaultValue":"bank:payees:read","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"STRING"},"properties":{},"repetitionSourceAttributeId":null},{"class":"AttributeNode","id":"1d203f31-4011-30da-8998-64541a1de4fb","attributeDefinitionId":"cd89a863-3a7e-44d5-a344-baecbcbf13f6"},{"class":"ComparisonNode","id":"a7c35fc8-b824-3108-b1f8-54721580a0e1","lhsInputNode":"ee0b3a91-f119-37fa-80b2-6bde3c7f846f","rhsInputNode":"1d203f31-4011-30da-8998-64541a1de4fb","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"34524ae2-77cb-3b8c-9dac-4a8f14777e99","inputNodes":["37715648-a590-38f9-9167-06d11663051e","a7c35fc8-b824-3108-b1f8-54721580a0e1"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"1b5349fd-5da2-4707-ba32-838538f88ca6","name":"Check Payee URL","properties":{},"disabled":false,"repetitionSettings":null},{"class":"DecisionNode","id":"e2dbafce-cc41-3b26-b957-d6c22ddf5204","metadataId":"1b5349fd-5da2-4707-ba32-838538f88ca6","effect":"DENY","inputNode":"34524ae2-77cb-3b8c-9dac-4a8f14777e99"},{"class":"StatementNode","id":"49947d6a-01d2-38c9-972b-93840919ce2e","inputNode":"e2dbafce-cc41-3b26-b957-d6c22ddf5204","metadataId":"1b5349fd-5da2-4707-ba32-838538f88ca6","statements":[]},{"class":"TargetMatchNode","id":"385d80fb-ac53-33a9-939b-75cb55c567c8","inputNode":"49947d6a-01d2-38c9-972b-93840919ce2e","metadataId":"1b5349fd-5da2-4707-ba32-838538f88ca6","targets":[]},{"class":"Metadata","originType":"Policy","originId":"1d1df0fe-ef91-4b52-b4b1-d77114ef3a8c","name":"Check URL Scope","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"67697632-1df6-321f-bdf5-183806f62bbc","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["9a1713ea-b1dd-35a3-8ecd-fa27b8794bde","11d32155-d8c7-35dc-ace1-68e335954929","3a47f337-243b-3eb4-8a56-485f5fe3fe2e","b584e82b-2ee2-31c6-953f-e640a6e559a3","385d80fb-ac53-33a9-939b-75cb55c567c8"],"inputNodeWeights":[100,100,100,100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"1d1df0fe-ef91-4b52-b4b1-d77114ef3a8c"},{"class":"StatementNode","id":"a39c9553-9349-36e9-8e4b-0449e0562d3f","inputNode":"67697632-1df6-321f-bdf5-183806f62bbc","metadataId":"1d1df0fe-ef91-4b52-b4b1-d77114ef3a8c","statements":[]},{"class":"TargetMatchNode","id":"932e6d29-e500-3cbc-981b-9806fec5fed2","inputNode":"a39c9553-9349-36e9-8e4b-0449e0562d3f","metadataId":"1d1df0fe-ef91-4b52-b4b1-d77114ef3a8c","targets":[]},{"class":"Metadata","originType":"PolicySet","originId":"8c8f030f-ffca-4509-98b9-891d46e4eabe","name":"CDR Policy","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"dc449b68-e9f3-3517-91e3-bc5d02e8a0e6","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["96f5a8eb-cce8-332a-a9be-3349326a75c3","9ce6811e-0777-33c6-b112-197cf38d8772","932e6d29-e500-3cbc-981b-9806fec5fed2"],"inputNodeWeights":[100,100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"8c8f030f-ffca-4509-98b9-891d46e4eabe"},{"class":"StatementNode","id":"d1334c64-80aa-3a9f-96cd-a9801bcbb72b","inputNode":"dc449b68-e9f3-3517-91e3-bc5d02e8a0e6","metadataId":"8c8f030f-ffca-4509-98b9-891d46e4eabe","statements":[]},{"class":"Target","id":"0451d509-113c-46ce-a2a4-bc58d906fbc9","name":"Inline target","domains":[],"services":["BankingAPI"],"identityClassIds":[],"actions":["inbound-GET","inbound-POST","inbound-PUT","inbound-DELETE"]},{"class":"TargetMatchNode","id":"3e2e0a69-70b1-3b8a-a540-3ac842473e06","inputNode":"d1334c64-80aa-3a9f-96cd-a9801bcbb72b","metadataId":"8c8f030f-ffca-4509-98b9-891d46e4eabe","targets":["0451d509-113c-46ce-a2a4-bc58d906fbc9"]},{"class":"Metadata","originType":"PolicySet","originId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","name":"Global Decision Point","properties":{},"disabled":false,"repetitionSettings":null},{"class":"CombinedDecisionNode","id":"0175152a-10d0-323d-95a3-feccc12b6eee","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["f768a29c-35e8-3918-af60-e0031c20c41a","c32ba35c-4fc5-3b62-b5f7-5c918a9efab9","3e2e0a69-70b1-3b8a-a540-3ac842473e06"],"inputNodeWeights":[100,100,100],"guardNode":"4c526b0b-d781-357a-a6ef-0cd18062e00d","originLink":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1"},{"class":"StatementNode","id":"e2f8fbc3-0e57-364c-9c03-936808608bed","inputNode":"0175152a-10d0-323d-95a3-feccc12b6eee","metadataId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","statements":[]},{"class":"TargetMatchNode","id":"fbe79efd-28b1-37b3-94de-96fd2be134c0","inputNode":"e2f8fbc3-0e57-364c-9c03-936808608bed","metadataId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","targets":[]},{"@class":"DataStreamFooter","digest":"SbQ+i4pp3/OaNWQNUG+reSFkFlC8C5oepsjcXDdJJ84="}]